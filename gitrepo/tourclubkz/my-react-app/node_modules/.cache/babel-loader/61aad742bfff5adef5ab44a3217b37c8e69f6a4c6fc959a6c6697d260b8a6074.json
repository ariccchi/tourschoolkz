{"ast":null,"code":"import React from\"react\";import{useNavigate}from\"react-router-dom\";// Импортируйте useNavigate\nimport{BASE_URL}from'./config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Logout(){const token=localStorage.getItem('token');const navigate=useNavigate();// Используйте useNavigate\nconst handleLogout=async()=>{const token=localStorage.getItem('token');console.log(token);try{const response=await fetch(\"\".concat(BASE_URL,\"tourschoolphp/logout.php\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({token:token})});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();if(data.status==='success'){localStorage.removeItem('token');// Удалите токен из LocalStorage\nnavigate('/');// Используйте navigate для перенаправления на главную страницу\nreturn;}else{return data;}}catch(error){console.error('An error occurred:',error);return error;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"logoutbutton\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logoutround\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/exit.svg\",alt:\"logo\",className:\"exiticon\",onClick:handleLogout})}),/*#__PURE__*/_jsx(\"div\",{className:\"logouttext\",children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]});}export default Logout;","map":{"version":3,"names":["React","useNavigate","BASE_URL","jsx","_jsx","jsxs","_jsxs","Logout","token","localStorage","getItem","navigate","handleLogout","console","log","response","fetch","concat","method","headers","body","JSON","stringify","ok","Error","status","data","json","removeItem","error","className","children","src","alt","onClick"],"sources":["/Applications/MAMP/htdocs/gitrepo/tourclubkz/my-react-app/src/logout.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\"; // Импортируйте useNavigate\nimport { BASE_URL } from './config';\nfunction Logout() {\n    const token = localStorage.getItem('token');\n    const navigate = useNavigate(); // Используйте useNavigate\n\n    const handleLogout = async () => {\n        const token = localStorage.getItem('token');\n        console.log(token);\n    \n        try {\n            const response = await fetch(`${BASE_URL}tourschoolphp/logout.php`, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ token: token  }),\n            });\n    \n            if (!response.ok) {\n                throw new Error(`HTTP error! status: ${response.status}`);\n            }\n    \n            const data = await response.json();\n            if (data.status === 'success') {\n                localStorage.removeItem('token'); // Удалите токен из LocalStorage\n                navigate('/'); // Используйте navigate для перенаправления на главную страницу\n                return;\n            } else {\n                return data;\n            }\n        } catch (error) {\n            console.error('An error occurred:', error);\n            return error;\n        }\n    };\n\n    return (\n        <div className=\"logoutbutton\">\n            <div className=\"logoutround\">\n        <img src=\"/exit.svg\" alt=\"logo\" className=\"exiticon\" onClick={handleLogout}></img>\n        </div>\n        <div className=\"logouttext\">Выйти</div>\n        </div>\n    );\n}\n\nexport default Logout;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAChD,OAASC,QAAQ,KAAQ,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACpC,QAAS,CAAAC,MAAMA,CAAA,CAAG,CACd,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAAE;AAEhC,KAAM,CAAAW,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7B,KAAM,CAAAJ,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CG,OAAO,CAACC,GAAG,CAACN,KAAK,CAAC,CAElB,GAAI,CACA,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIf,QAAQ,6BAA4B,CAChEgB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,KAAK,CAAEA,KAAO,CAAC,CAC1C,CAAC,CAAC,CAEF,GAAI,CAACO,QAAQ,CAACQ,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,wBAAAP,MAAA,CAAwBF,QAAQ,CAACU,MAAM,CAAE,CAAC,CAC7D,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAX,QAAQ,CAACY,IAAI,CAAC,CAAC,CAClC,GAAID,IAAI,CAACD,MAAM,GAAK,SAAS,CAAE,CAC3BhB,YAAY,CAACmB,UAAU,CAAC,OAAO,CAAC,CAAE;AAClCjB,QAAQ,CAAC,GAAG,CAAC,CAAE;AACf,OACJ,CAAC,IAAM,CACH,MAAO,CAAAe,IAAI,CACf,CACJ,CAAE,MAAOG,KAAK,CAAE,CACZhB,OAAO,CAACgB,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1C,MAAO,CAAAA,KAAK,CAChB,CACJ,CAAC,CAED,mBACIvB,KAAA,QAAKwB,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzB3B,IAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,cAChC3B,IAAA,QAAK4B,GAAG,CAAC,WAAW,CAACC,GAAG,CAAC,MAAM,CAACH,SAAS,CAAC,UAAU,CAACI,OAAO,CAAEtB,YAAa,CAAM,CAAC,CAC7E,CAAC,cACNR,IAAA,QAAK0B,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,gCAAK,CAAK,CAAC,EAClC,CAAC,CAEd,CAEA,cAAe,CAAAxB,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}