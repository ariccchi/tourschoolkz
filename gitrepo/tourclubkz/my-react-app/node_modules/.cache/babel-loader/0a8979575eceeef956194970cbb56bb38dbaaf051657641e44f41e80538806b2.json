{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/tourclubkz/my-react-app/src/finaltest.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport Navpanmini from \"./navpanmini\";\nimport './fintest.css';\nimport { jwtDecode } from 'jwt-decode';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Finaltest() {\n  _s();\n  var _questions$currentQue3, _questions$currentQue4;\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n  const [tries, setTries] = useState(0);\n  const [currentQuestionTries, setCurrentQuestionTries] = useState(0); // Новое состояние\n  const [incorrectAnswers, setIncorrectAnswers] = useState([]);\n  const [showContinueButton, setShowContinueButton] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const {\n    title,\n    lesson\n  } = useParams();\n  const titleWithSpaces = lesson.replace(/-/g, ' ');\n  const [correctAnswers, setCorrectAnswers] = useState([]);\n  const [answeredCorrectly, setAnsweredCorrectly] = useState(false);\n  const [testCompleted, setTestCompleted] = useState(false);\n  const navigate = useNavigate();\n  const token = localStorage.getItem('token');\n  let decoded = jwtDecode(token);\n  let user_id = decoded.sub;\n  const date = new Date(); // текущая дата и время\n  const year = date.getFullYear();\n  const month = String(date.getMonth() + 1).padStart(2, '0'); // добавляем ведущий ноль, если месяц меньше 10\n  const day = String(date.getDate()).padStart(2, '0'); // добавляем ведущий ноль, если день меньше 10\n  const hours = String(date.getHours()).padStart(2, '0');\n  const minutes = String(date.getMinutes()).padStart(2, '0');\n  const seconds = String(date.getSeconds()).padStart(2, '0');\n  const formattedTimestamp = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n  const shuffleArray = array => {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`${BASE_URL}tourschoolphp/fintestlesson.php`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            lesson: titleWithSpaces\n          })\n        });\n        if (!response.ok) {\n          throw new Error('Ошибка при запросе данных');\n        }\n        const data = await response.json();\n\n        // Преобразовать данные в ожидаемый формат\n        const formattedQuestions = data.map(question => ({\n          ...question,\n          options: shuffleArray([question.incorrect_answer1, question.incorrect_answer2, question.incorrect_answer3, question.correct_answer])\n        }));\n        setQuestions(formattedQuestions);\n      } catch (error) {\n        console.error('Ошибка при отправке запроса:', error);\n      }\n    };\n    fetchData();\n  }, [titleWithSpaces]);\n  const sendTestData = async () => {\n    try {\n      var _questions$currentQue;\n      const response = await fetch(`${BASE_URL}tourschoolphp/fintestresult.php`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user: user_id,\n          testid: (_questions$currentQue = questions[currentQuestionIndex]) === null || _questions$currentQue === void 0 ? void 0 : _questions$currentQue.id,\n          // использование question_id\n          tries: tries,\n          total: questions.length,\n          timestamp: formattedTimestamp\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Ошибка при отправке данных на сервер');\n      }\n      const data = await response.json();\n      console.log('Данные успешно отправлены на сервер:', data);\n    } catch (error) {\n      console.error('Ошибка при отправке данных на сервер:', error);\n    }\n  };\n  const handleOptionClick = option => {\n    if (answeredCorrectly) {\n      // Если уже был дан правильный ответ, не обрабатываем клик\n      return;\n    }\n    const isAnswerCorrect = option === questions[currentQuestionIndex].correct_answer;\n    setTries(tries + 1);\n    if (!isAnswerCorrect) {\n      setCurrentQuestionTries(currentQuestionTries + 1);\n      setIncorrectAnswers([...incorrectAnswers, option]);\n    } else {\n      var _questions$currentQue2;\n      setCorrectAnswers([...correctAnswers, option]);\n      setShowContinueButton(true);\n      setCurrentQuestionTries(0);\n      setAnsweredCorrectly(true); // Устанавливаем флаг, что был дан правильный ответ\n      console.log(\"Current Question ID:\", (_questions$currentQue2 = questions[currentQuestionIndex]) === null || _questions$currentQue2 === void 0 ? void 0 : _questions$currentQue2.id);\n      sendTestData();\n    }\n  };\n  const handleContinueClick = () => {\n    const nextQuestionIndex = (currentQuestionIndex + 1) % questions.length;\n    if (nextQuestionIndex === 0) {\n      // Если это последний вопрос, то тест завершен\n      setTestCompleted(true);\n      navigate(`/courses/${title}/${lesson}/summary-page`);\n    } else {\n      setCurrentQuestionIndex(nextQuestionIndex);\n      setTries(0);\n      setIncorrectAnswers([]);\n      setShowContinueButton(false);\n      setProgress((currentQuestionIndex + 1) / questions.length * 100);\n      setCurrentQuestionTries(0);\n      setAnsweredCorrectly(false);\n    }\n  };\n  console.log(tries);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      className: \"form7\",\n      src: \"/form7.svg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 4\n    }, this), testCompleted ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0422\\u0435\\u0441\\u0442 \\u0437\\u0430\\u0432\\u0435\\u0440\\u0448\\u0435\\u043D! \\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0443\\u0447\\u0430\\u0441\\u0442\\u0438\\u0435.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/your-link-here\",\n        children: \"\\u0412\\u0430\\u0448\\u0430 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-pagetest\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containertest\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-barnorm\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bartest\",\n            style: {\n              width: `${progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"questionfin\",\n          children: (_questions$currentQue3 = questions[currentQuestionIndex]) === null || _questions$currentQue3 === void 0 ? void 0 : _questions$currentQue3.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"answersvar\",\n          children: (_questions$currentQue4 = questions[currentQuestionIndex]) === null || _questions$currentQue4 === void 0 ? void 0 : _questions$currentQue4.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleOptionClick(option),\n            disabled: incorrectAnswers.includes(option) || correctAnswers.includes(option),\n            className: incorrectAnswers.includes(option) ? 'incorrect' : correctAnswers.includes(option) ? 'correct' : '',\n            children: incorrectAnswers.includes(option) ? `X ${option}` : correctAnswers.includes(option) ? `✓ ${option}` : option\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 9\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttoncontin\",\n          children: showContinueButton && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleContinueClick,\n            children: currentQuestionIndex === questions.length - 1 ? 'Завершить тест' : 'Продолжить ->'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Navpanmini, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true);\n}\n_s(Finaltest, \"8EnfigFo/OLcUe1WSXQoEpa6Mng=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Finaltest;\nexport default Finaltest;\nvar _c;\n$RefreshReg$(_c, \"Finaltest\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","Navpanmini","jwtDecode","jsxDEV","_jsxDEV","Fragment","_Fragment","Finaltest","_s","_questions$currentQue3","_questions$currentQue4","questions","setQuestions","currentQuestionIndex","setCurrentQuestionIndex","tries","setTries","currentQuestionTries","setCurrentQuestionTries","incorrectAnswers","setIncorrectAnswers","showContinueButton","setShowContinueButton","progress","setProgress","title","lesson","titleWithSpaces","replace","correctAnswers","setCorrectAnswers","answeredCorrectly","setAnsweredCorrectly","testCompleted","setTestCompleted","navigate","token","localStorage","getItem","decoded","user_id","sub","date","Date","year","getFullYear","month","String","getMonth","padStart","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","formattedTimestamp","shuffleArray","array","i","length","j","Math","floor","random","fetchData","response","fetch","BASE_URL","method","headers","body","JSON","stringify","ok","Error","data","json","formattedQuestions","map","question","options","incorrect_answer1","incorrect_answer2","incorrect_answer3","correct_answer","error","console","sendTestData","_questions$currentQue","user","testid","id","total","timestamp","log","handleOptionClick","option","isAnswerCorrect","_questions$currentQue2","handleContinueClick","nextQuestionIndex","children","className","src","fileName","_jsxFileName","lineNumber","columnNumber","href","style","width","index","onClick","disabled","includes","_c","$RefreshReg$"],"sources":["/Applications/MAMP/htdocs/tourclubkz/my-react-app/src/finaltest.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport Navpanmini from \"./navpanmini\";\nimport './fintest.css';\nimport { jwtDecode } from 'jwt-decode';\n\nfunction Finaltest() {\n  const [questions, setQuestions] = useState([]);\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\n    const [tries, setTries] = useState(0);\n    const [currentQuestionTries, setCurrentQuestionTries] = useState(0); // Новое состояние\n    const [incorrectAnswers, setIncorrectAnswers] = useState([]);\n    const [showContinueButton, setShowContinueButton] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const { title, lesson } = useParams();\n    const titleWithSpaces = lesson.replace(/-/g, ' ');\n    const [correctAnswers, setCorrectAnswers] = useState([]);\n    const [answeredCorrectly, setAnsweredCorrectly] = useState(false);\nconst [testCompleted, setTestCompleted] = useState(false);\nconst navigate = useNavigate();\n\n    const token = localStorage.getItem('token');\n\n          \n    let decoded = jwtDecode(token);\n    \n    let user_id = decoded.sub;\n    const date = new Date(); // текущая дата и время\n    const year = date.getFullYear();\n    const month = String(date.getMonth() + 1).padStart(2, '0'); // добавляем ведущий ноль, если месяц меньше 10\n    const day = String(date.getDate()).padStart(2, '0'); // добавляем ведущий ноль, если день меньше 10\n    const hours = String(date.getHours()).padStart(2, '0');\n    const minutes = String(date.getMinutes()).padStart(2, '0');\n    const seconds = String(date.getSeconds()).padStart(2, '0');\n    \n    const formattedTimestamp = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n    const shuffleArray = (array) => {\n      for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n      }\n      return array;\n    };\n    useEffect(() => {\n      const fetchData = async () => {\n        try {\n          const response = await fetch(`${BASE_URL}tourschoolphp/fintestlesson.php`, {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ lesson: titleWithSpaces }),\n          });\n  \n          if (!response.ok) {\n            throw new Error('Ошибка при запросе данных');\n          }\n  \n          const data = await response.json();\n  \n          // Преобразовать данные в ожидаемый формат\n          const formattedQuestions = data.map((question) => ({\n            ...question,\n            options: shuffleArray([\n              question.incorrect_answer1,\n              question.incorrect_answer2,\n              question.incorrect_answer3,\n              question.correct_answer,\n            ]),\n          }));\n  \n          setQuestions(formattedQuestions);\n        } catch (error) {\n          console.error('Ошибка при отправке запроса:', error);\n        }\n      };\n  \n      fetchData();\n    }, [titleWithSpaces]);\n    const sendTestData = async () => {\n      try {\n        const response = await fetch(`${BASE_URL}tourschoolphp/fintestresult.php`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            user: user_id,\n            testid: questions[currentQuestionIndex]?.id,  // использование question_id\n            tries: tries,\n            total: questions.length,\n            timestamp: formattedTimestamp,\n          }),\n        });\n    \n        if (!response.ok) {\n          throw new Error('Ошибка при отправке данных на сервер');\n        }\n    \n        const data = await response.json();\n        console.log('Данные успешно отправлены на сервер:', data);\n      } catch (error) {\n        console.error('Ошибка при отправке данных на сервер:', error);\n      }\n    };\n       const handleOptionClick = (option) => {\n        if (answeredCorrectly) {\n            // Если уже был дан правильный ответ, не обрабатываем клик\n            return;\n        }\n \n\n\n        const isAnswerCorrect = option === questions[currentQuestionIndex].correct_answer;\n        setTries(tries + 1);\n  if (!isAnswerCorrect) {\n   \n    setCurrentQuestionTries(currentQuestionTries + 1);\n    setIncorrectAnswers([...incorrectAnswers, option]);\n  } else {\n    setCorrectAnswers([...correctAnswers, option]);\n    setShowContinueButton(true);\n    setCurrentQuestionTries(0);\n    setAnsweredCorrectly(true); // Устанавливаем флаг, что был дан правильный ответ\n    console.log(\"Current Question ID:\", questions[currentQuestionIndex]?.id);\n    sendTestData();\n\n  \n  }\n};\n\n\n\n\nconst handleContinueClick = () => {\n  const nextQuestionIndex = (currentQuestionIndex + 1) % questions.length;\n  if (nextQuestionIndex === 0) {\n      // Если это последний вопрос, то тест завершен\n      setTestCompleted(true);\n      navigate(`/courses/${title}/${lesson}/summary-page`);\n  } else {\n      setCurrentQuestionIndex(nextQuestionIndex);\n      setTries(0);\n      setIncorrectAnswers([]);\n      setShowContinueButton(false);\n      setProgress((currentQuestionIndex + 1) / questions.length * 100);\n      setCurrentQuestionTries(0);\n      setAnsweredCorrectly(false);\n  }\n};\n\n\n\n    console.log(tries);\n    return(\n        <>\n   <img className=\"form7\" src='/form7.svg'></img>\n  \n        {testCompleted ? (\n            <div>\n                <p>Тест завершен! Спасибо за участие.</p>\n                <a href=\"/your-link-here\">Ваша ссылка</a>\n            </div>\n        ) : (\n            <div className='full-pagetest'>\n            <div className='containertest'>\n                <div className='progress-barnorm'>\n        <div className='progress-bartest' style={{ width: `${progress}%` }}></div>\n        </div>\n        <div className='questionfin'>\n  {questions[currentQuestionIndex]?.question}\n  \n</div>\n        <div className='answersvar'>\n        {questions[currentQuestionIndex]?.options.map((option, index) => (\n        <button key={index} onClick={() => handleOptionClick(option)} disabled={incorrectAnswers.includes(option) || correctAnswers.includes(option)} className={incorrectAnswers.includes(option) ? 'incorrect' : correctAnswers.includes(option) ? 'correct' : ''}>\n          {incorrectAnswers.includes(option) ? `X ${option}` : correctAnswers.includes(option) ? `✓ ${option}` : option}\n        </button>\n      ))}\n        </div>\n        <div className='buttoncontin'>\n        {showContinueButton && \n          <button onClick={handleContinueClick}>\n            {currentQuestionIndex === questions.length - 1 ? 'Завершить тест' : 'Продолжить ->'}\n          </button>\n        } \n        </div>\n        </div>\n        \n        </div>\n     )}\n     \n     <Navpanmini />\n  \n    </>\n    )\n}\nexport default Finaltest; \n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}