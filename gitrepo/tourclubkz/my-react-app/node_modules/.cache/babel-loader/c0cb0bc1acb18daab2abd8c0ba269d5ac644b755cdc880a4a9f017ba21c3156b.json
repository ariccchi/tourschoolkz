{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/tourclubschool/tourclubkz/my-react-app/src/studentlist.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, Routes } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction StudentList({\n  complexArray\n}) {\n  _s();\n  var _complexArray$, _complexArray$2;\n  const token = localStorage.getItem('token');\n  const [Curatordata, setCuratorData] = useState([]);\n  const [Admindata, setAdminData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const decodedToken = jwtDecode(token);\n  const [data, setData] = useState([]);\n  const [data3, setData3] = useState([]);\n  const id = decodedToken.sub;\n  const role = decodedToken.role;\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        if (complexArray && complexArray.length > 0) {\n          if (complexArray[0].role === 'curator') {\n            const curatorResponse = await fetch('http://localhost:8888/tourschoolphp/curatorlist.php', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                user: complexArray[0].id\n              })\n            });\n            const curatorData = await curatorResponse.json();\n            setCuratorData(curatorData);\n          } else if (complexArray[0].role === 'admin') {\n            const adminResponse = await fetch('http://localhost:8888/tourschoolphp/adminlist.php', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                user: complexArray[0].id\n              })\n            });\n            const adminData = await adminResponse.json();\n            setAdminData(adminData);\n          }\n        }\n      } catch (error) {\n        console.error('Ошибка при загрузке данных:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [complexArray[0].id]);\n  const isCurator = ((_complexArray$ = complexArray[0]) === null || _complexArray$ === void 0 ? void 0 : _complexArray$.role) === 'curator';\n  const isAdmin = ((_complexArray$2 = complexArray[0]) === null || _complexArray$2 === void 0 ? void 0 : _complexArray$2.role) === 'admin';\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"studentsprofilelist\",\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [Curatordata.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: Curatordata.map((student, index) => /*#__PURE__*/_jsxDEV(Link, {\n            to: `/profile/${student.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"namesurnameprofile\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"imgavatarstud\",\n                src: `http://localhost:8888/tourschoolphp/${student.avatar}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"namesurname\",\n                children: [student.name, \" \", student.surname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this))\n        }, void 0, false), isAdmin && Admindata.length > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"infoprofile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 9\n          }, this), Admindata.map((student, index) => /*#__PURE__*/_jsxDEV(Link, {\n            to: `/profile/${student.id}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"namesurnameprofile\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"imgavatarstud\",\n                src: `http://localhost:8888/tourschoolphp/${student.avatar}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"namesurname\",\n                children: [student.name, \" \", student.surname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this))]\n        }, void 0, true)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(StudentList, \"0KtM1O3CODabgc6dldXdPuAksgk=\");\n_c = StudentList;\nexport default StudentList;\nvar _c;\n$RefreshReg$(_c, \"StudentList\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Switch","Route","Link","Routes","jwtDecode","jsxDEV","_jsxDEV","Fragment","_Fragment","StudentList","complexArray","_s","_complexArray$","_complexArray$2","token","localStorage","getItem","Curatordata","setCuratorData","Admindata","setAdminData","loading","setLoading","decodedToken","data","setData","data3","setData3","id","sub","role","fetchData","length","curatorResponse","fetch","method","headers","body","JSON","stringify","user","curatorData","json","adminResponse","adminData","error","console","isCurator","isAdmin","children","className","map","student","index","to","src","avatar","fileName","_jsxFileName","lineNumber","columnNumber","name","surname","_c","$RefreshReg$"],"sources":["/Applications/MAMP/htdocs/tourclubschool/tourclubkz/my-react-app/src/studentlist.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link, Routes } from 'react-router-dom';\nimport { jwtDecode } from 'jwt-decode';\nfunction StudentList ({ complexArray }) {\n    \n    const token = localStorage.getItem('token');\n    const [Curatordata, setCuratorData] = useState([]);\n    const [Admindata, setAdminData] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const decodedToken = jwtDecode(token);\n    const [data, setData] = useState([]);\n  \n    const [data3, setData3] = useState([]);\n    const id = decodedToken.sub;\n    const role = decodedToken.role;\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                if (complexArray && complexArray.length > 0) {\n                    if (complexArray[0].role === 'curator') {\n                        const curatorResponse = await fetch('http://localhost:8888/tourschoolphp/curatorlist.php', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                            },\n                            body: JSON.stringify({ user: complexArray[0].id }),\n                        });\n\n                        const curatorData = await curatorResponse.json();\n                        setCuratorData(curatorData);\n                    } else if (complexArray[0].role === 'admin') {\n                        const adminResponse = await fetch('http://localhost:8888/tourschoolphp/adminlist.php', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                            },\n                            body: JSON.stringify({ user: complexArray[0].id  }),\n                        });\n\n                        const adminData = await adminResponse.json();\n                        setAdminData(adminData);\n                    }\n                }\n            } catch (error) {\n                console.error('Ошибка при загрузке данных:', error);\n            } finally {\n                setLoading(false);\n            }\n\n          \n        }\n\n        fetchData();\n    }, [complexArray[0].id ]);\n    const isCurator = complexArray[0]?.role === 'curator';\n    const isAdmin = complexArray[0]?.role === 'admin';\nreturn (\n<> \n        <div className=\"studentsprofilelist\">\n       \n<>\n\n{Curatordata.length > 0 && (\n    <>\n        {Curatordata.map((student, index) => (\n            <Link to={`/profile/${student.id}`} key={index}>\n                <div className=\"namesurnameprofile\" key={index}>\n                <img className=\"imgavatarstud\" src= {`http://localhost:8888/tourschoolphp/${student.avatar}` }></img>\n                    <div className=\"namesurname\">\n                        {student.name} {student.surname}\n                    </div>\n                </div>\n            </Link>\n        ))}\n    </>\n)}\n\n{isAdmin && Admindata.length > 0 && (\n    <>\n        <div className=\"infoprofile\"></div>\n        {Admindata.map((student, index) => (\n            <Link to={`/profile/${student.id}`} key={index}>\n                <div className=\"namesurnameprofile\" key={index}>\n                    <img className=\"imgavatarstud\" src= {`http://localhost:8888/tourschoolphp/${student.avatar}` }></img>\n                    <div className=\"namesurname\">\n                        {student.name} {student.surname}\n                    </div>\n                </div>\n            </Link>\n        ))}\n    </>\n)}\n\n</>\n\n        </div>\n        </>\n)\n\n\n}\n\nexport default StudentList;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,IAAIC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,QAAQ,kBAAkB;AACvF,SAASC,SAAS,QAAQ,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACvC,SAASC,WAAWA,CAAE;EAAEC;AAAa,CAAC,EAAE;EAAAC,EAAA;EAAA,IAAAC,cAAA,EAAAC,eAAA;EAEpC,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM2B,YAAY,GAAGnB,SAAS,CAACU,KAAK,CAAC;EACrC,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAM,CAAC8B,KAAK,EAAEC,QAAQ,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMgC,EAAE,GAAGL,YAAY,CAACM,GAAG;EAC3B,MAAMC,IAAI,GAAGP,YAAY,CAACO,IAAI;EAC9BjC,SAAS,CAAC,MAAM;IACZ,MAAMkC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACA,IAAIrB,YAAY,IAAIA,YAAY,CAACsB,MAAM,GAAG,CAAC,EAAE;UACzC,IAAItB,YAAY,CAAC,CAAC,CAAC,CAACoB,IAAI,KAAK,SAAS,EAAE;YACpC,MAAMG,eAAe,GAAG,MAAMC,KAAK,CAAC,qDAAqD,EAAE;cACvFC,MAAM,EAAE,MAAM;cACdC,OAAO,EAAE;gBACL,cAAc,EAAE;cACpB,CAAC;cACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;gBAAEC,IAAI,EAAE9B,YAAY,CAAC,CAAC,CAAC,CAACkB;cAAG,CAAC;YACrD,CAAC,CAAC;YAEF,MAAMa,WAAW,GAAG,MAAMR,eAAe,CAACS,IAAI,CAAC,CAAC;YAChDxB,cAAc,CAACuB,WAAW,CAAC;UAC/B,CAAC,MAAM,IAAI/B,YAAY,CAAC,CAAC,CAAC,CAACoB,IAAI,KAAK,OAAO,EAAE;YACzC,MAAMa,aAAa,GAAG,MAAMT,KAAK,CAAC,mDAAmD,EAAE;cACnFC,MAAM,EAAE,MAAM;cACdC,OAAO,EAAE;gBACL,cAAc,EAAE;cACpB,CAAC;cACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;gBAAEC,IAAI,EAAE9B,YAAY,CAAC,CAAC,CAAC,CAACkB;cAAI,CAAC;YACtD,CAAC,CAAC;YAEF,MAAMgB,SAAS,GAAG,MAAMD,aAAa,CAACD,IAAI,CAAC,CAAC;YAC5CtB,YAAY,CAACwB,SAAS,CAAC;UAC3B;QACJ;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACvD,CAAC,SAAS;QACNvB,UAAU,CAAC,KAAK,CAAC;MACrB;IAGJ,CAAC;IAEDS,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACrB,YAAY,CAAC,CAAC,CAAC,CAACkB,EAAE,CAAE,CAAC;EACzB,MAAMmB,SAAS,GAAG,EAAAnC,cAAA,GAAAF,YAAY,CAAC,CAAC,CAAC,cAAAE,cAAA,uBAAfA,cAAA,CAAiBkB,IAAI,MAAK,SAAS;EACrD,MAAMkB,OAAO,GAAG,EAAAnC,eAAA,GAAAH,YAAY,CAAC,CAAC,CAAC,cAAAG,eAAA,uBAAfA,eAAA,CAAiBiB,IAAI,MAAK,OAAO;EACrD,oBACAxB,OAAA,CAAAE,SAAA;IAAAyC,QAAA,eACQ3C,OAAA;MAAK4C,SAAS,EAAC,qBAAqB;MAAAD,QAAA,eAE5C3C,OAAA,CAAAE,SAAA;QAAAyC,QAAA,GAEChC,WAAW,CAACe,MAAM,GAAG,CAAC,iBACnB1B,OAAA,CAAAE,SAAA;UAAAyC,QAAA,EACKhC,WAAW,CAACkC,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,kBAC5B/C,OAAA,CAACJ,IAAI;YAACoD,EAAE,EAAG,YAAWF,OAAO,CAACxB,EAAG,EAAE;YAAAqB,QAAA,eAC/B3C,OAAA;cAAK4C,SAAS,EAAC,oBAAoB;cAAAD,QAAA,gBACnC3C,OAAA;gBAAK4C,SAAS,EAAC,eAAe;gBAACK,GAAG,EAAI,uCAAsCH,OAAO,CAACI,MAAO;cAAG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACjGtD,OAAA;gBAAK4C,SAAS,EAAC,aAAa;gBAAAD,QAAA,GACvBG,OAAO,CAACS,IAAI,EAAC,GAAC,EAACT,OAAO,CAACU,OAAO;cAAA;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC;YAAA,GAJ+BP,KAAK;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAKzC;UAAC,GAN+BP,KAAK;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAOxC,CACT;QAAC,gBACJ,CACL,EAEAZ,OAAO,IAAI7B,SAAS,CAACa,MAAM,GAAG,CAAC,iBAC5B1B,OAAA,CAAAE,SAAA;UAAAyC,QAAA,gBACI3C,OAAA;YAAK4C,SAAS,EAAC;UAAa;YAAAO,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,EAClCzC,SAAS,CAACgC,GAAG,CAAC,CAACC,OAAO,EAAEC,KAAK,kBAC1B/C,OAAA,CAACJ,IAAI;YAACoD,EAAE,EAAG,YAAWF,OAAO,CAACxB,EAAG,EAAE;YAAAqB,QAAA,eAC/B3C,OAAA;cAAK4C,SAAS,EAAC,oBAAoB;cAAAD,QAAA,gBAC/B3C,OAAA;gBAAK4C,SAAS,EAAC,eAAe;gBAACK,GAAG,EAAI,uCAAsCH,OAAO,CAACI,MAAO;cAAG;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACrGtD,OAAA;gBAAK4C,SAAS,EAAC,aAAa;gBAAAD,QAAA,GACvBG,OAAO,CAACS,IAAI,EAAC,GAAC,EAACT,OAAO,CAACU,OAAO;cAAA;gBAAAL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC9B,CAAC;YAAA,GAJ+BP,KAAK;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAKzC;UAAC,GAN+BP,KAAK;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAOxC,CACT,CAAC;QAAA,eACJ,CACL;MAAA,eAEC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEU;EAAC,gBACJ,CAAC;AAIX;AAACjD,EAAA,CAjGQF,WAAW;AAAAsD,EAAA,GAAXtD,WAAW;AAmGpB,eAAeA,WAAW;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}