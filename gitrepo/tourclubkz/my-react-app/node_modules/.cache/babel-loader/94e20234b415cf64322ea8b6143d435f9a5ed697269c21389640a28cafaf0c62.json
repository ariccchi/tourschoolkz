{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/tourclubkz/my-react-app/src/Startnewcourse.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './startcourse.css';\nimport Navpanmini from './navpanmini.js';\nimport { jwtDecode } from 'jwt-decode';\nimport axios from \"axios\";\nimport LessonListPage from './Lessonlist.js';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Startnewcourse() {\n  _s();\n  const {\n    title\n  } = useParams();\n  const titleWithSpaces = title.replace(/-/g, ' ');\n  const [responseData, setResponseData] = useState(null);\n  const token = localStorage.getItem('token');\n  const navigate = useNavigate();\n\n  // Декодируем JWT токен\n  const decoded = jwtDecode(token);\n  const user_id = decoded.sub;\n  const fetchData = useCallback(async () => {\n    try {\n      const response = await axios.post('http://localhost:8888/tourschoolphp/startcourseinfo.php', {\n        title: titleWithSpaces\n      });\n      if (!response.data) {\n        throw new Error('Пустой ответ от сервера');\n      }\n      setResponseData(response.data);\n    } catch (error) {\n      console.error('Ошибка при запросе данных:', error);\n    }\n  }, [titleWithSpaces]);\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const handleButtonClick = async courseId => {\n    try {\n      const response = await axios.post('http://localhost:8888/tourschoolphp/startcourse.php', {\n        course_id: courseId,\n        user_id: user_id\n      });\n      if (!response.data) {\n        throw new Error('Пустой ответ от сервера');\n      }\n\n      // Перенаправляем пользователя на страницу списка уроков\n      window.location.reload();\n    } catch (error) {\n      console.error('Ошибка при запросе данных:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navpanmini, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), responseData && responseData.map((course, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"containerstartcourse\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"titlecourse\",\n        children: titleWithSpaces\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"containersta\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"conttop\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: `http://localhost:8888/tourschoolphp/${course.image_url}`,\n            className: \"imagecourse\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rightcont\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"courseinfo\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"titlecoursemini\",\n                children: course.course_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"coursetype\",\n                children: course.type\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"lessandtime\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"imgandless\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"lessimg\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"imgandtime\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"buttontostart\",\n              onClick: () => handleButtonClick(course.id),\n              children: \"\\u041D\\u0430\\u0447\\u0430\\u0442\\u044C \\u0438\\u0437\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435 \\u043A\\u0443\\u0440\\u0441\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"description\",\n          children: course.course_description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this))]\n  }, void 0, true);\n}\n_s(Startnewcourse, \"SJDGLPDo+vlbwJQ34nP1po1C+j4=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Startnewcourse;\nexport default Startnewcourse;\nvar _c;\n$RefreshReg$(_c, \"Startnewcourse\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","Navpanmini","jwtDecode","axios","LessonListPage","jsxDEV","_jsxDEV","Fragment","_Fragment","Startnewcourse","_s","title","titleWithSpaces","replace","responseData","setResponseData","token","localStorage","getItem","navigate","decoded","user_id","sub","fetchData","response","post","data","Error","error","console","handleButtonClick","courseId","course_id","window","location","reload","children","fileName","_jsxFileName","lineNumber","columnNumber","map","course","index","className","src","image_url","course_name","type","onClick","id","course_description","_c","$RefreshReg$"],"sources":["/Applications/MAMP/htdocs/tourclubkz/my-react-app/src/Startnewcourse.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './startcourse.css';\nimport Navpanmini from './navpanmini.js';\nimport { jwtDecode } from 'jwt-decode'; \nimport axios from \"axios\";\nimport LessonListPage from './Lessonlist.js';\n\nfunction Startnewcourse() {\n    const { title } = useParams();\n    const titleWithSpaces = title.replace(/-/g, ' ');\n    const [responseData, setResponseData] = useState(null); \n    const token = localStorage.getItem('token');\n    const navigate = useNavigate();\n\n    // Декодируем JWT токен\n    const decoded = jwtDecode(token);\n    const user_id = decoded.sub;\n\n    const fetchData = useCallback(async () => {\n        try {\n            const response = await axios.post('http://localhost:8888/tourschoolphp/startcourseinfo.php', {\n                title: titleWithSpaces,\n            });\n\n            if (!response.data) {\n                throw new Error('Пустой ответ от сервера');\n            }\n\n            setResponseData(response.data);\n        } catch (error) {\n            console.error('Ошибка при запросе данных:', error);\n        }\n    }, [titleWithSpaces]);\n\n    useEffect(() => {\n        fetchData();\n    }, [fetchData]);\n    const handleButtonClick = async (courseId) => {\n        try {\n          const response = await axios.post('http://localhost:8888/tourschoolphp/startcourse.php', {\n            course_id: courseId,\n            user_id: user_id,\n          });\n      \n          if (!response.data) {\n            throw new Error('Пустой ответ от сервера');\n          }\n      \n          // Перенаправляем пользователя на страницу списка уроков\n          window.location.reload();\n        } catch (error) {\n          console.error('Ошибка при запросе данных:', error);\n        }\n      };\n      \n\n    return (\n        <>\n        <Navpanmini />\n        {responseData && responseData.map((course, index) => (\n            <div className='containerstartcourse' key={index}>\n        <div className='titlecourse'>{titleWithSpaces}</div>\n\n        <div className='containersta'>\n            <div className='conttop'>\n        <img src = {`http://localhost:8888/tourschoolphp/${course.image_url}`}className='imagecourse'>\n        </img>\n        <div className='rightcont'>\n        <div className='courseinfo'>\n            <div className='titlecoursemini'>{course.course_name}</div>\n            \n            <div className='coursetype'>{course.type}</div>\n            <div className='lessandtime'>\n                <div className='imgandless'>\n                    <div className='lessimg'></div>\n                   \n\n                </div>\n                <div className='imgandtime'>\n                 \n                 \n                </div>\n            </div>\n        </div>\n        \n        <div className='buttontostart' onClick={() => handleButtonClick(course.id)}>Начать изучение курса</div>\n\n\n        </div>\n        </div>\n        <div className='description'>{course.course_description}</div>\n        </div>\n        </div>\n        ))}\n\n        </>\n    )\n}\n\nexport default Startnewcourse;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}