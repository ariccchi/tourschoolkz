{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import axios from'axios';import Navpanmini from\"./navpanmini\";import{jwtDecode}from'jwt-decode';import{useParams,useNavigate,Link}from'react-router-dom';import'./summary.css';import{BASE_URL}from'./config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function SummaryPage(){const[isModalOpen,setIsModalOpen]=useState(false);const[isLoading,setIsLoading]=useState(true);const{title,lesson}=useParams();const token=localStorage.getItem('token');const titleWithSpaces=lesson.replace(/-/g,' ');const courseWithSpaces=title.replace(/-/g,' ');const decoded=jwtDecode(token);const user_id=decoded.sub;const[responseData1,setResponseData1]=useState([]);const[responseData2,setResponseData2]=useState([]);const[responseData3,setResponseData3]=useState([]);const handleModalOpen=()=>{setIsModalOpen(true);};const handleModalClose=()=>{setIsModalOpen(false);};const fetchData=useCallback(async()=>{try{const response1=await axios.post(\"\".concat(BASE_URL,\"tourschoolphp/resultoflesson.php\"),{title:titleWithSpaces,user_id:user_id});if(!response1.data){throw new Error('Пустой ответ от сервера');}setResponseData1(response1.data);const response3=await axios.post(\"\".concat(BASE_URL,\"tourschoolphp/checkfulltest.php\"),{title:titleWithSpaces,user_id:user_id,course:courseWithSpaces});if(!response3.data){throw new Error('Пустой ответ от сервера');}setResponseData3(response3.data);const response2=await axios.post(\"\".concat(BASE_URL,\"tourschoolphp/resultoffinaltestlesson.php\"),{title:titleWithSpaces,user_id:user_id});if(Array.isArray(response2.data)){setResponseData2(response2.data);}else{console.log('response2.data не является массивом');}setIsLoading(false);// Установка isLoading в false после завершения загрузки данных\n}catch(error){console.error('Ошибка при запросе данных:',error);setIsLoading(false);// Установка isLoading в false в случае ошибки\n}},[titleWithSpaces,user_id]);useEffect(()=>{fetchData();},[fetchData]);const responseDataArray=Array.isArray(responseData1)?responseData1:[];const responseDataLength=responseDataArray.length;const countTriesOne=responseDataArray.filter(item=>item.tries===1).length;const countTriesTwo=responseDataArray.filter(item=>item.tries===2).length;const totalScore=countTriesOne*100+countTriesTwo*50;const averageScore=responseDataLength>0?Math.round(totalScore/responseDataLength):0;const responseDataLength2=responseData2.length;const responseDataLength3=responseData3.length;const countTriesOne2=responseData2.filter(item=>item.tries===0).length;const countTriesTwo2=responseData2.filter(item=>item.tries===1).length;const totalScore2=countTriesOne2*100+countTriesTwo2*50;const averageScore2=responseDataLength2>0?Math.round(totalScore2/responseDataLength3):0;const fulltestandlesson=responseDataLength>0?(averageScore+averageScore2)/2:averageScore2;console.log(fulltestandlesson);const handleSaveResults=async()=>{try{console.log('Отправляемые данные:',{user_id:user_id,lesson_id:titleWithSpaces,is_completed:true,result:fulltestandlesson});const response=await axios.post(\"\".concat(BASE_URL,\"tourschoolphp/saveResults.php\"),{user_id:user_id,lesson_id:titleWithSpaces,is_completed:true,result:fulltestandlesson});console.log('Ответ от сервера:',response.data);if(response.data.success){console.log('Результаты сохранены успешно!');}else{console.log('Сервер вернул ошибку:',response.data.error);}}catch(error){console.error('Ошибка при сохранении результатов:',error);}};useEffect(()=>{const fetchDataAndSaveResults=async()=>{try{await fetchData();// Ждем завершения запросов данных\n// Вызываем handleSaveResults, если responseData2.length === responseData3.length\nif(responseData2.length===responseData3.length){await handleSaveResults();// Ждем завершения сохранения результатов\n}}catch(error){console.error('Ошибка при запросе данных:',error);}};if(!isLoading){fetchDataAndSaveResults();}},[fetchData,responseData2.length,responseData3.length,isLoading]);return/*#__PURE__*/_jsxs(_Fragment,{children:[isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"fullpage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"left-side\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"textcong\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u0422\\u0430\\u043A \\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C!\"}),responseDataLength>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u0412\\u044B \\u043E\\u0442\\u0432\\u0435\\u0442\\u0438\\u043B\\u0438 \\u043D\\u0430 \",countTriesOne,\" \\u0438\\u0437 \",responseDataLength,\" \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432 \\u0441 \\u043F\\u0435\\u0440\\u0432\\u043E\\u0439 \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0438!\"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u0418 \\u043D\\u0430 \",countTriesTwo,\" \\u0438\\u0437 \",responseDataLength,\" \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432 \\u0443\\u0440\\u043E\\u043A\\u0430 \\u0441\\u043E \\u0432\\u0442\\u043E\\u0440\\u043E\\u0439 \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0438!\"]})]}),responseData2.length!==responseData3.length&&/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0412\\u044B \\u043F\\u0440\\u043E\\u0448\\u043B\\u0438 \\u0442\\u0435\\u0441\\u0442 \\u043D\\u0435 \\u0434\\u043E \\u043A\\u043E\\u043D\\u0446\\u0430. \\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u043F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0443\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"roundsummary\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"roundprocent\",children:totalScore2===0?\"\".concat(averageScore,\"%\"):totalScore===0?\"\".concat(averageScore2,\"%\"):\"\".concat(fulltestandlesson,\"%\")}),/*#__PURE__*/_jsx(\"div\",{className:\"roundprocenth\",children:\"\\u0412\\u0430\\u0448 \\u043F\\u0440\\u043E\\u0446\\u0435\\u043D\\u0442 \\u0437\\u0430 \\u0443\\u0440\\u043E\\u043A \"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"downcont\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"buttonssum\",children:[responseData2.length===0||responseData2.length!==responseData3.length?/*#__PURE__*/_jsx(Link,{to:\"/courses/\".concat(title,\"/\").concat(lesson,\"/finaltest/\"),children:/*#__PURE__*/_jsx(\"button\",{children:\"\\u0442\\u0435\\u0441\\u0442\"})}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleModalOpen(),children:\"\\u041C\\u043E\\u0438 \\u0440\\u0435\\u0437\\u0443\\u043B\\u044C\\u0442\\u0430\\u0442\\u044B\"}),/*#__PURE__*/_jsx(Link,{to:responseDataLength>0?\"/courses/\".concat(title,\"/\").concat(lesson):\"/courses/\".concat(title,\"/lesson/\").concat(lesson),children:/*#__PURE__*/_jsx(\"button\",{children:\"\\u041F\\u0435\\u0440\\u0435\\u0441\\u043C\\u043E\\u0442\\u0440\\u0435\\u0442\\u044C \\u0443\\u0440\\u043E\\u043A\"})}),/*#__PURE__*/_jsx(Link,{to:\"/messages\",children:/*#__PURE__*/_jsx(\"button\",{children:\"\\u0421\\u043E\\u043E\\u0431\\u0449\\u0438\\u0442\\u044C \\u043A\\u0443\\u0440\\u0430\\u0442\\u043E\\u0440\\u0443 \\u043E\\u0431 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0435\"})})]})})]})}),isModalOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"close-button2\",onClick:handleModalClose,children:\"\\xD7\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\u0412\\u044B \\u043E\\u0442\\u0432\\u0435\\u0442\\u0438\\u043B\\u0438 \\u043D\\u0430 \",countTriesOne2,\" \\u0438\\u0437 \",responseDataLength2,\" \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432 \\u0442\\u0435\\u0441\\u0442\\u0430 \\u0441 \\u043F\\u0435\\u0440\\u0432\\u043E\\u0439 \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0438! \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\u0418 \\u043D\\u0430 \",countTriesTwo2,\" \\u0438\\u0437 \",responseDataLength2,\" \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\\u043E\\u0432 \\u0441\\u043E \\u0432\\u0442\\u043E\\u0440\\u043E\\u0439 \\u043F\\u043E\\u043F\\u044B\\u0442\\u043A\\u0438! \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\" \\u041F\\u0440\\u043E\\u0446\\u0435\\u043D\\u0442 \\u043F\\u0440\\u043E\\u0445\\u043E\\u0436\\u0434\\u0435\\u043D\\u0438\\u044F \\u0442\\u0435\\u0441\\u0442\\u0430: \",averageScore2,\"% \"]}),/*#__PURE__*/_jsx(Link,{to:\"/courses/\".concat(title,\"/\").concat(lesson,\"/finaltest/\"),children:/*#__PURE__*/_jsx(\"button\",{children:\"\\u041F\\u0435\\u0440\\u0435\\u043F\\u0440\\u043E\\u0439\\u0442\\u0438 \\u0442\\u0435\\u0441\\u0442\"})})]})}),/*#__PURE__*/_jsx(Navpanmini,{})]});}export default SummaryPage;","map":{"version":3,"names":["React","useState","useEffect","useCallback","axios","Navpanmini","jwtDecode","useParams","useNavigate","Link","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SummaryPage","isModalOpen","setIsModalOpen","isLoading","setIsLoading","title","lesson","token","localStorage","getItem","titleWithSpaces","replace","courseWithSpaces","decoded","user_id","sub","responseData1","setResponseData1","responseData2","setResponseData2","responseData3","setResponseData3","handleModalOpen","handleModalClose","fetchData","response1","post","concat","data","Error","response3","course","response2","Array","isArray","console","log","error","responseDataArray","responseDataLength","length","countTriesOne","filter","item","tries","countTriesTwo","totalScore","averageScore","Math","round","responseDataLength2","responseDataLength3","countTriesOne2","countTriesTwo2","totalScore2","averageScore2","fulltestandlesson","handleSaveResults","lesson_id","is_completed","result","response","success","fetchDataAndSaveResults","children","className","to","onClick"],"sources":["/Applications/MAMP/htdocs/gitrepo/tourclubkz/my-react-app/src/SummaryPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport Navpanmini from \"./navpanmini\";\nimport { jwtDecode } from 'jwt-decode';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport './summary.css';\nimport { BASE_URL } from './config';\n\nfunction SummaryPage() {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const { title, lesson } = useParams();\n  const token = localStorage.getItem('token');\n  const titleWithSpaces = lesson.replace(/-/g, ' ');\n  const courseWithSpaces = title.replace(/-/g, ' ');\n  const decoded = jwtDecode(token);\n  const user_id = decoded.sub;\n  const [responseData1, setResponseData1] = useState([]);\n  const [responseData2, setResponseData2] = useState([]);\n  const [responseData3, setResponseData3] = useState([]);\n\n  const handleModalOpen = () => {\n    setIsModalOpen(true);\n  };\n\n  const handleModalClose = () => {\n    setIsModalOpen(false);\n  };\n\n  const fetchData = useCallback(async () => {\n    try {\n      const response1 = await axios.post(`${BASE_URL}tourschoolphp/resultoflesson.php`, {\n        title: titleWithSpaces,\n        user_id: user_id,\n      });\n\n      if (!response1.data) {\n        throw new Error('Пустой ответ от сервера');\n      }\n\n      setResponseData1(response1.data);\n \n      const response3 = await axios.post(`${BASE_URL}tourschoolphp/checkfulltest.php`, {\n        title: titleWithSpaces,\n        user_id: user_id,\n        course: courseWithSpaces,\n      });\n\n      if (!response3.data) {\n        throw new Error('Пустой ответ от сервера');\n      }\n\n      setResponseData3(response3.data);\n\n      const response2 = await axios.post(`${BASE_URL}tourschoolphp/resultoffinaltestlesson.php`, {\n        title: titleWithSpaces,\n        user_id: user_id,\n   \n      });\n\n      if (Array.isArray(response2.data)) {\n        setResponseData2(response2.data);\n      } else {\n        console.log('response2.data не является массивом');\n      }\n\n      setIsLoading(false); // Установка isLoading в false после завершения загрузки данных\n    } catch (error) {\n      console.error('Ошибка при запросе данных:', error);\n      setIsLoading(false); // Установка isLoading в false в случае ошибки\n    }\n  }, [titleWithSpaces, user_id]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const responseDataArray = Array.isArray(responseData1) ? responseData1 : [];\nconst responseDataLength = responseDataArray.length;\nconst countTriesOne = responseDataArray.filter(item => item.tries === 1).length;\nconst countTriesTwo = responseDataArray.filter(item => item.tries === 2).length;\n\n  const totalScore = countTriesOne * 100 + countTriesTwo * 50;\n  const averageScore = responseDataLength > 0 ? Math.round(totalScore / responseDataLength) : 0;\n  const responseDataLength2 = responseData2.length;\n  const responseDataLength3 = responseData3.length;\n  const countTriesOne2 = responseData2.filter(item => item.tries === 0).length;\n  const countTriesTwo2 = responseData2.filter(item => item.tries === 1).length;\n  const totalScore2 = countTriesOne2 * 100 + countTriesTwo2 * 50;\n  const averageScore2 = responseDataLength2 > 0 ? Math.round(totalScore2 / responseDataLength3) : 0;\n\n  const fulltestandlesson = responseDataLength > 0\n  ? (averageScore + averageScore2) / 2\n  : averageScore2;\n\n  console.log(fulltestandlesson);\n\n  const handleSaveResults = async () => {\n    try {\n      console.log('Отправляемые данные:', {\n        user_id: user_id,\n        lesson_id: titleWithSpaces,\n        is_completed: true,\n        result: fulltestandlesson,\n      });\n  \n      const response = await axios.post(`${BASE_URL}tourschoolphp/saveResults.php`, {\n        user_id: user_id,\n        lesson_id: titleWithSpaces,\n        is_completed: true,\n        result: fulltestandlesson,\n      });\n  \n      console.log('Ответ от сервера:', response.data);\n  \n      if (response.data.success) {\n        console.log('Результаты сохранены успешно!');\n      } else {\n        console.log('Сервер вернул ошибку:', response.data.error);\n      }\n    } catch (error) {\n      console.error('Ошибка при сохранении результатов:', error);\n    }\n  };\n  \n\n  useEffect(() => {\n    const fetchDataAndSaveResults = async () => {\n      try {\n        await fetchData(); // Ждем завершения запросов данных\n  \n        // Вызываем handleSaveResults, если responseData2.length === responseData3.length\n        if (responseData2.length === responseData3.length) {\n\n          await handleSaveResults(); // Ждем завершения сохранения результатов\n        }\n      } catch (error) {\n        console.error('Ошибка при запросе данных:', error);\n      }\n    };\n  \n    if (!isLoading) {\n      fetchDataAndSaveResults();\n    }\n  }, [fetchData, responseData2.length, responseData3.length, isLoading]);\n  \n  return (\n    <>\n      {isLoading ? (\n        <p>Загрузка данных...</p>\n      ) : (\n        <div className=\"fullpage\">\n          <div className=\"left-side\">\n            <div className=\"textcong\">\n              <h1>Так держать!</h1>\n              {responseDataLength > 0 && (\n  <>\n    <h2>Вы ответили на {countTriesOne} из {responseDataLength} вопросов с первой попытки!</h2>\n    <h3>И на {countTriesTwo} из {responseDataLength} вопросов урока со второй попытки!</h3>\n  </>\n)}\n\n              {responseData2.length !== responseData3.length && (\n                <h4>Вы прошли тест не до конца. Пожалуйста, повторите попытку</h4>\n              )}\n\n              <div className=\"roundsummary\">\n              <div className=\"roundprocent\">{totalScore2 === 0 ? `${averageScore}%` : totalScore === 0 ? `${averageScore2}%` : `${fulltestandlesson}%`}</div>\n                <div className=\"roundprocenth\">Ваш процент за урок </div>\n              </div>\n            </div>\n            <div className=\"downcont\">\n              <div className=\"buttonssum\">\n                {responseData2.length === 0 || responseData2.length !== responseData3.length ? (\n                  <Link to={`/courses/${title}/${lesson}/finaltest/`}>\n                    <button>тест</button>\n                  </Link>\n                ) : (\n                  <button onClick={() => handleModalOpen()}>Мои результаты</button>\n                )}\n                <Link to={responseDataLength > 0 ? `/courses/${title}/${lesson}` : `/courses/${title}/lesson/${lesson}`}>\n      <button>Пересмотреть урок</button>\n    </Link>\n                <Link to={`/messages`}>\n                  <button>Сообщить куратору об ошибке</button>\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {isModalOpen && (\n        <div className=\"modal\">\n          <div className=\"modal-content\">\n            <span className=\"close-button2\" onClick={handleModalClose}>\n              ×\n            </span>\n            <h2>Вы ответили на {countTriesOne2} из {responseDataLength2} вопросов теста с первой попытки! </h2>\n            <h3>И на {countTriesTwo2} из {responseDataLength2} вопросов со второй попытки! </h3>\n            <h3> Процент прохождения теста: {averageScore2}% </h3>\n            <Link to={`/courses/${title}/${lesson}/finaltest/`}>\n              <button>Перепройти тест</button>\n            </Link>\n          </div>\n        </div>\n      )}\n\n      <Navpanmini />\n    </>\n  );\n}\n\nexport default SummaryPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}