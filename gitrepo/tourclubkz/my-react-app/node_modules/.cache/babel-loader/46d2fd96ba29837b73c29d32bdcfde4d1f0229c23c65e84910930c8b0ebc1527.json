{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import Navpanmini from'./navpanmini';import{useParams,useNavigate,Link}from'react-router-dom';import YouTube from'react-youtube';import'./addlesson.css';import axios from'axios';import{BASE_URL}from'./config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddLesson=()=>{const[selectedCourse,setSelectedCourse]=useState(null);const[lessonType,setLessonType]=useState('text');// Default to text lesson\nconst{course}=useParams();const titleWithSpaces=course.replace(/-/g,' ');const[videoLink,setVideoLink]=useState('');const[videoSaved,setVideoSaved]=useState(false);const videoRef=useRef(null);const[intervalId,setIntervalId]=useState(null);const navigate=useNavigate();// Используйте useNavigate\nconst[videoId,setVideoId]=useState('');const[currentTime,setCurrentTime]=useState(0);const[duration,setDuration]=useState(0);const[lessonTitle,setLessonTitle]=useState(\"\");const[infoModalVisible,setInfoModalVisible]=useState(false);const[terminsModalVisible,setTerminsModalVisible]=useState(false);const[infoType,setInfoType]=useState('text');// Default to text\nconst[selectedOption,setSelectedOption]=useState('text');const[infoText,setInfoText]=useState('');const[infoArray,setInfoArray]=useState([]);// New state for storing information array\nconst[terminArray,setTerminArray]=useState([]);// New state for storing information array\nconst[terminText,setTerminText]=useState('');const[error,setError]=useState(null);const[testModalVisible,setTestModalVisible]=useState(false);const[finTestModalVisible,setFinTestModalVisible]=useState(false);const[linkModalVisible,setLinkModalVisible]=useState(false);const[testArray,setTestArray]=useState([]);// New state for storing information array\nconst[testText,setTestText]=useState('');const[question,setQuestion]=useState('');const[correctAnswer,setCorrectAnswer]=useState('');const[wrongAnswers,setWrongAnswers]=useState(['','','']);const[infoImage,setInfoImage]=useState(null);const[linkArray,setLinkArray]=useState([]);// New state for storing information array\nconst[linkText,setLinkText]=useState('');const[step,setStep]=useState(1);const[errorVideo,setErrorVideo]=useState('');const[errorNext,setErrorNext]=useState('');const[finQuestion,setFinQuestion]=useState('');const[finCorrectAnswer,setFinCorrectAnswer]=useState('');const[finWrongAnswers,setFinWrongAnswers]=useState(['','','']);const[finTestArray,setFinTestArray]=useState([]);const[errorFin,setErrorFin]=useState('');const[photoArray,setPhotoArray]=useState([]);// New state for photos\nconst[picArray,setPicArray]=useState([]);const[currentImage,setCurrentImage]=useState(null);const[file,setFile]=useState(null);const openInfoModal=()=>{setInfoModalVisible(true);if(videoRef.current){videoRef.current.internalPlayer.pauseVideo();}};const openModal=()=>{setSelectedCourse(course);};const closeTerminModal=()=>{setTerminsModalVisible(false);setError(null);};const openTerminModal=()=>{setTerminsModalVisible(true);if(videoRef.current){videoRef.current.internalPlayer.pauseVideo();}};const closeLinkModal=()=>{setLinkModalVisible(false);setError(null);};const openLinkModal=()=>{setLinkModalVisible(true);if(videoRef.current){videoRef.current.internalPlayer.pauseVideo();}};const closeInfoModal=()=>{setInfoModalVisible(false);setError(null);};const openTestModal=()=>{setTestModalVisible(true);if(videoRef.current){videoRef.current.internalPlayer.pauseVideo();}};const openFinTestModal=()=>{setFinTestModalVisible(true);};const closeFinTestModal=()=>{setFinTestModalVisible(false);};const closeTestModal=()=>{setTestModalVisible(false);setError(null);};const onStateChange=event=>{if(videoRef.current){if(event.data===YouTube.PlayerState.PLAYING){const id=setInterval(()=>{if(videoRef.current&&videoRef.current.internalPlayer&&videoRef.current.internalPlayer.getCurrentTime){videoRef.current.internalPlayer.getCurrentTime().then(time=>{picArray.forEach((item,index)=>{});setCurrentTime(time);});}},1000);setIntervalId(id);}else{clearInterval(intervalId);}}};const handleFileChange=e=>{const selectedFile=e.target.files[0];if(isValidFileType(selectedFile)){setFile(selectedFile);}else{alert('Invalid file type. Please select a text-based file.');}};const isValidFileType=file=>{const textFileExtensions=['txt','doc','docx','pdf','rtf','odt'];// Add more if needed\nconst fileNameParts=file.name.split('.');const fileExtension=fileNameParts[fileNameParts.length-1].toLowerCase();return textFileExtensions.includes(fileExtension);};const handleSaveFile=()=>{if(file){// You can perform any actions with the 'file' here\n// For example, you might want to save it in the component state\ncloseModal();}else{alert('Please select a valid text-based file before saving.');}};useEffect(()=>{const interval=setInterval(()=>{if(videoRef.current&&videoRef.current.internalPlayer&&videoRef.current.internalPlayer.getCurrentTime){// handleTimeUpdate(currentTime);\n}},1000);// Проверка каждую секунду\nreturn()=>{clearInterval(interval);};},[videoRef.current]);// Добавлен videoRef.current в зависимости useEffect\n// Function to close the modal\nconst closeModal=()=>{setSelectedCourse(null);};const extractVideoId=url=>{// Предполагаем, что url имеет формат https://www.youtube.com/watch?v=ALdF0V9Z_os\nconst match=url.match(/(?:\\?v=|\\/embed\\/|\\.be\\/|\\/v\\/|\\/\\d{1,2}\\/|\\/(?=p\\/))([^\"&?\\/\\s]{11})/);return match?match[1]:null;};const handleSave=()=>{const extractedVideoId=extractVideoId(videoLink);if(extractedVideoId){setVideoSaved(true);setVideoId(extractedVideoId);setErrorVideo(\"\");}else{console.error('Неверный формат ссылки на видео');setErrorVideo('Неверный формат ссылки на видео');}closeModal();};const handleImageUpload=event=>{if(event.target.files&&event.target.files[0]){let imgFile=event.target.files[0];if(imgFile.size>5000000){alert('Размер файла не должен превышать 5 МБ');}else if(imgFile.type==='image/jpeg'||imgFile.type==='image/jpg'||imgFile.type==='image/png'){setCurrentImage(imgFile);setPhotoArray(prevArray=>[...prevArray,imgFile]);// Сразу добавляем в массив\n}else{alert('Пожалуйста, загрузите файл в формате jpg или jpeg');}}};useEffect(()=>{const fetchCurrentTime=async()=>{if(videoRef.current&&videoRef.current.internalPlayer&&videoRef.current.internalPlayer.getCurrentTime){const time=await videoRef.current.internalPlayer.getCurrentTime();setCurrentTime(time);}if(videoRef.current&&videoRef.current.internalPlayer&&videoRef.current.internalPlayer.getDuration){const duration=await videoRef.current.internalPlayer.getDuration();setDuration(duration);}};fetchCurrentTime();const intervalId=setInterval(fetchCurrentTime,1000);// Update every second\nreturn()=>clearInterval(intervalId);// Clean up on unmount\n},[videoRef.current]);const handleSaveInfo=()=>{const newInfoItem={time:Math.floor(currentTime),text:infoText};const isTimeExistsInInfo=terminArray.some(item=>item.time===newInfoItem.time);const isTimeExistsInTest=testArray.some(item=>item.time===newInfoItem.time);if(!isTimeExistsInInfo&&!isTimeExistsInTest){setInfoArray(prevArray=>{const newArray=[...prevArray,newInfoItem];return newArray;});setInfoText('');closeInfoModal();}else{setError('Блок с таким временем уже существует');}};const handleSavePic=()=>{if(currentImage){const newInfoItem={time:Math.floor(currentTime),photos:[currentImage]// Добавляем текущее изображение в photoArray\n};const isTimeExistsInTermins=terminArray.some(item=>item.time===newInfoItem.time);const isTimeExistsInTest=testArray.some(item=>item.time===newInfoItem.time);const isTimeExistsInInfo=infoArray.some(item=>item.time===newInfoItem.time);if(!isTimeExistsInInfo&&!isTimeExistsInTermins&&!isTimeExistsInTest){setPicArray(prevArray=>[...prevArray,newInfoItem]);// Очистка photoArray и сброс текущей картинки\nsetPhotoArray([]);setCurrentImage(null);closeInfoModal();}else{setError('Блок с таким временем уже существует');}}};const handleNextStep=()=>{if(lessonType==='video'){if(videoId===0){setErrorNext('Добавьте видео');}else if(testArray.length===0){setErrorNext('Добавьте хотя бы один тест');}else if(lessonTitle.length===0){setErrorNext('Введите название урока');}else{// Все условия выполнены, можно переходить на следующий шаг\nsetErrorNext('');setStep(step+1);}}if(lessonType==='text'){if(file===null){setErrorNext('Добавьте файл');}else if(lessonTitle.length===0){setErrorNext('Введите название урока');}else{// Все условия выполнены, можно переходить на следующий шаг\nsetErrorNext('');setStep(step+1);}}};const handleSaveTermins=()=>{const newTerminItem={time:Math.floor(currentTime),text:terminText};// Проверка, существует ли уже элемент с таким же временем в infoArray\nconst isTimeExistsInInfo=infoArray.some(item=>item.time===newTerminItem.time);const isTimeExistsInTest=testArray.some(item=>item.time===newTerminItem.time);const isTimeExistsInPic=picArray.some(item=>item.time===newTerminItem.time);if(!isTimeExistsInInfo&&!isTimeExistsInTest&&!isTimeExistsInPic){// Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\nsetTerminArray(prevArray=>{const newArray=[...prevArray,newTerminItem];return newArray;});// Очистка значения текстареи после сохранения\nsetTerminText('');closeTerminModal();}else{setError('Термин с таким временем уже существует в информационном блоке');}// Закрытие модального окна\n};const handleSaveLink=()=>{const newLinkItem={text:linkText};// Проверка, существует ли уже элемент с таким же временем в infoArray\n// Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\nsetLinkArray(prevArray=>{const newArray=[...prevArray,newLinkItem];return newArray;});// Очистка значения текстареи после сохранения\nsetLinkText('');closeLinkModal();// Закрытие модального окна\n};const handleSendSaveClick=async()=>{if(lessonType==='video'){if(finTestArray<=3){setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока');}else{const formData=new FormData();formData.append('video',videoId);formData.append('terminarray',JSON.stringify(terminArray));formData.append('infoarray',JSON.stringify(infoArray));formData.append('testarray',JSON.stringify(testArray));formData.append('link',JSON.stringify(linkArray));formData.append('finarray',JSON.stringify(finTestArray));formData.append('name',lessonTitle);formData.append('course',titleWithSpaces);formData.append('lessontype',lessonType);picArray.forEach((item,index)=>{formData.append(\"image_\".concat(index),item.photos[0]);formData.append(\"time_\".concat(index),item.time);// Append time values\n});try{const response=await axios.post(\"\".concat(BASE_URL,\"tourschoolphp/addLessonphp.php\"),formData,{headers:{'Content-Type':'multipart/form-data'}});navigate(\"/courses/\".concat(course));}catch(error){console.error('Error sending message:',error);}// setShowUserModal(false);\n}}else{if(finTestArray<=3){setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока');}else{const formData=new FormData();formData.append('finarray',JSON.stringify(finTestArray));formData.append('name',lessonTitle);formData.append('course',titleWithSpaces);formData.append('lessontype',lessonType);formData.append('file',file);try{const response=await axios.post(\"\".concat(BASE_URL,\"tourschoolphp/addLessonTextphp.php\"),formData,{headers:{'Content-Type':'multipart/form-data'}});navigate(\"/courses/\".concat(course));}catch(error){console.error('Error sending message:',error);}// setShowUserModal(false);\n}}};const handleSaveTest=()=>{if(!question||!correctAnswer||wrongAnswers.some(answer=>!answer)){setError('Пожалуйста, заполните все текстовые поля');return;}const newTestItem={time:Math.floor(currentTime),question:question,correctAnswer:correctAnswer,incorrect1:wrongAnswers[0],incorrect2:wrongAnswers[1],incorrect3:wrongAnswers[2]};const isTimeExistsInInfo=infoArray.some(item=>item.time===newTestItem.time);const isTimeExistsInPic=picArray.some(item=>item.time===newTestItem.time);const isTimeExistsInTermins=terminArray.some(item=>item.time===newTestItem.time);if(!isTimeExistsInInfo&&!isTimeExistsInTermins&&!isTimeExistsInPic){setTestArray(prevArray=>{const newArray=[...prevArray,newTestItem];return newArray;});// Очистка значения текстареи после сохранения\nsetQuestion('');setCorrectAnswer('');setWrongAnswers(['','','']);closeTestModal();setError(null);}else{setError('Блок с таким временем уже существует');}};const handleSaveFinTest=()=>{if(!finQuestion||!finCorrectAnswer||finWrongAnswers.some(answer=>!answer)){setError('Пожалуйста, заполните все текстовые поля');return;}const newTestItem={finQuestion:finQuestion,finCorrectAnswer:finCorrectAnswer,finIncorrect1:finWrongAnswers[0],finIncorrect2:finWrongAnswers[1],finIncorrect3:finWrongAnswers[2]};setFinTestArray(prevArray=>{const newArray=[...prevArray,newTestItem];return newArray;});// Очистка значения текстареи после сохранения\nsetFinQuestion('');setFinCorrectAnswer('');setFinWrongAnswers(['','','']);closeFinTestModal();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container7\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"addlessoncoursename\",children:titleWithSpaces}),/*#__PURE__*/_jsx(Navpanmini,{}),step===1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputaddless2\",type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0443\\u0440\\u043E\\u043A\\u0430\",value:lessonTitle,onChange:e=>setLessonTitle(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"lesson-type-selector\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{className:\"checkadd\",type:\"radio\",value:\"text\",checked:lessonType==='text',onChange:()=>setLessonType('text')}),\"\\u0422\\u0435\\u043A\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439 \\u0443\\u0440\\u043E\\u043A\"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"video\",checked:lessonType==='video',onChange:()=>setLessonType('video')}),\"\\u0412\\u0438\\u0434\\u0435\\u043E \\u0443\\u0440\\u043E\\u043A\"]})]}),lessonType==='text'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"addlessonlink\",onClick:openModal,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\"}),file&&/*#__PURE__*/_jsx(\"div\",{className:\"file\",children:file.name})]}),!videoSaved&&lessonType==='video'&&/*#__PURE__*/_jsx(\"div\",{className:\"addlessonlink\",onClick:openModal,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u0438\\u0434\\u0435\\u043E\\u0440\\u044F\\u0434\"}),errorVideo&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:errorVideo}),selectedCourse&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal4\",children:[lessonType==='text'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"filediv\",type:\"file\",onChange:handleFileChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveFile,disabled:!file,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),lessonType==='video'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"inputaddless\",type:\"text\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0432\\u0438\\u0434\\u0435\\u043E \\u0441 YouTube\",value:videoLink,onChange:e=>setVideoLink(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]})}),videoSaved&&/*#__PURE__*/_jsxs(\"div\",{className:\"centeraddless\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"videoandtime\",children:[/*#__PURE__*/_jsx(YouTube,{videoId:videoId,opts:{height:'390',width:'640'},onStateChange:onStateChange,ref:videoRef}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F: \",Math.floor(currentTime),\" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"addcontainers\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"knopkacont\",onClick:openTerminModal,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u0440\\u043C\\u0438\\u043D\"}),/*#__PURE__*/_jsx(\"div\",{className:\"knopkacont\",onClick:openTestModal,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{className:\"knopkacont\",onClick:openInfoModal,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E\"}),/*#__PURE__*/_jsx(\"div\",{className:\"knopkacont\",onClick:openLinkModal,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0441\\u044B\\u043B\\u043A\\u0438\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"allcontainersadd\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"infoblock addshow\",children:[\"\\u0422\\u0435\\u0440\\u043C\\u0438\\u043D\\u044B\",terminArray.map((terminItem,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0422\\u0435\\u0440\\u043C\\u0438\\u043D: \",index+1,\", \\u0412\\u0440\\u0435\\u043C\\u044F: \",terminItem.time,\" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442:\",/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:terminItem.text.replace(/\\n/g,'<br>')}})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoblock addshow\",children:[\"\\u0422\\u0435\\u0441\\u0442\",testArray.map((testItem,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441: \",index+1,\", \\u0412\\u0440\\u0435\\u043C\\u044F: \",testItem.time,\" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.question.replace(/\\n/g,'<br>')}}),\"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.correctAnswer.replace(/\\n/g,'<br>')}}),\"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 1:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.incorrect1.replace(/\\n/g,'<br>')}}),\"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 2:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.incorrect2.replace(/\\n/g,'<br>')}}),\"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 3:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.incorrect3.replace(/\\n/g,'<br>')}})]},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoblock addshow\",children:[\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0435 \\u0431\\u043B\\u043E\\u043A\\u0438\",infoArray.map((infoItem,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F: \",index+1,\", \\u0412\\u0440\\u0435\\u043C\\u044F: \",infoItem.time,\" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442:\",/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:infoItem.text.replace(/\\n/g,'<br>')}})]},index)),picArray.map((infoItem,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F: \",index+1,\", \\u0412\\u0440\\u0435\\u043C\\u044F: \",infoItem.time,\" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442: \",infoItem.photos.map((photo,photoIndex)=>/*#__PURE__*/_jsx(\"img\",{className:\"imgadd\",src:URL.createObjectURL(photo),alt:\"uploaded-\".concat(photoIndex)},photoIndex))]},index))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoblock addshow\",children:[\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0438\",linkArray.map((linkItem,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0438: \",index+1,/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:linkItem.text.replace(/\\n/g,'<br>')}})]},index))]})]})]})]}),errorNext&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:errorNext}),/*#__PURE__*/_jsx(\"button\",{className:\"knopkacont\",onClick:handleNextStep,children:\"\\u0414\\u0430\\u043B\\u0435\\u0435\"})]})]}),step===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"fintesttoadd\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0435\\u0441\\u0442\\u0430 \\u043F\\u043E\\u0441\\u043B\\u0435 \\u0443\\u0440\\u043E\\u043A\\u0430 \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"fintestcont\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"finknopkacont\",onClick:openFinTestModal,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"}),finTestArray.map((testItem,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441: \",index+1,\",\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.finQuestion.replace(/\\n/g,'<br>')}}),\"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.finCorrectAnswer.replace(/\\n/g,'<br>')}}),\"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 1:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.finIncorrect1.replace(/\\n/g,'<br>')}}),\"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 2:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.finIncorrect2.replace(/\\n/g,'<br>')}}),\"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 3:\",/*#__PURE__*/_jsx(\"div\",{className:\"addtest\",dangerouslySetInnerHTML:{__html:testItem.finIncorrect3.replace(/\\n/g,'<br>')}})]},index)),/*#__PURE__*/_jsx(\"button\",{className:\"knopkacont\",onClick:handleSendSaveClick,children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0443\\u0440\\u043E\\u043A\"})]})]}),infoModalVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-info-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"centeraddless\",children:[\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\",/*#__PURE__*/_jsx(\"input\",{className:\"inputaddless2\",type:\"number\",value:Math.floor(currentTime),onChange:e=>{setCurrentTime(parseFloat(e.target.value));if(videoRef.current){videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));}}}),\"\\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]}),/*#__PURE__*/_jsxs(\"select\",{value:selectedOption,onChange:e=>setSelectedOption(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"text\",children:\"\\u0422\\u0435\\u043A\\u0441\\u0442\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pic\",children:\"\\u041A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0430\"})]}),selectedOption==='text'&&/*#__PURE__*/_jsxs(_Fragment,{children:[error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E\",value:infoText,onChange:e=>setInfoText(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveInfo,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),selectedOption==='pic'&&/*#__PURE__*/_jsxs(\"div\",{children:[error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageUpload}),currentImage&&/*#__PURE__*/_jsx(\"img\",{className:\"imgadd\",src:URL.createObjectURL(currentImage),alt:\"uploaded-0\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSavePic,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeInfoModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]})}),testModalVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-info-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-info\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\",/*#__PURE__*/_jsx(\"input\",{className:\"inputaddless2\",type:\"number\",value:Math.floor(currentTime),onChange:e=>{setCurrentTime(parseFloat(e.target.value));if(videoRef.current){videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));}}}),\"\\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\",value:question,onChange:e=>setQuestion(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442\",value:correctAnswer,onChange:e=>setCorrectAnswer(e.target.value)}),wrongAnswers.map((answer,index)=>/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 \".concat(index+1),value:answer,onChange:e=>{const newWrongAnswers=[...wrongAnswers];newWrongAnswers[index]=e.target.value;setWrongAnswers(newWrongAnswers);}},index)),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveTest,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeTestModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]})}),finTestModalVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-info-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-info\",children:[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\",value:finQuestion,onChange:e=>setFinQuestion(e.target.value)}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442\",value:finCorrectAnswer,onChange:e=>setFinCorrectAnswer(e.target.value)}),finWrongAnswers.map((answer,index)=>/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 \".concat(index+1),value:answer,onChange:e=>{const newWrongAnswers=[...finWrongAnswers];newWrongAnswers[index]=e.target.value;setFinWrongAnswers(newWrongAnswers);}},index)),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveFinTest,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeFinTestModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]})}),terminsModalVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-info-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-info\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\",/*#__PURE__*/_jsx(\"input\",{className:\"inputaddless2\",type:\"number\",value:Math.floor(currentTime),onChange:e=>{setCurrentTime(parseFloat(e.target.value));if(videoRef.current){videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));}}}),\"\\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]}),/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0442\\u0435\\u0440\\u043C\\u0438\\u043D\",value:terminText,onChange:e=>setTerminText(e.target.value)}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveTermins,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeTerminModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]})}),linkModalVisible&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-info-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-info\",children:[/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\",value:linkText,onChange:e=>setLinkText(e.target.value)}),error&&/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveLink,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:closeLinkModal,children:\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"})]})})]});};export default AddLesson;","map":{"version":3,"names":["React","useState","useEffect","useRef","Navpanmini","useParams","useNavigate","Link","YouTube","axios","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddLesson","selectedCourse","setSelectedCourse","lessonType","setLessonType","course","titleWithSpaces","replace","videoLink","setVideoLink","videoSaved","setVideoSaved","videoRef","intervalId","setIntervalId","navigate","videoId","setVideoId","currentTime","setCurrentTime","duration","setDuration","lessonTitle","setLessonTitle","infoModalVisible","setInfoModalVisible","terminsModalVisible","setTerminsModalVisible","infoType","setInfoType","selectedOption","setSelectedOption","infoText","setInfoText","infoArray","setInfoArray","terminArray","setTerminArray","terminText","setTerminText","error","setError","testModalVisible","setTestModalVisible","finTestModalVisible","setFinTestModalVisible","linkModalVisible","setLinkModalVisible","testArray","setTestArray","testText","setTestText","question","setQuestion","correctAnswer","setCorrectAnswer","wrongAnswers","setWrongAnswers","infoImage","setInfoImage","linkArray","setLinkArray","linkText","setLinkText","step","setStep","errorVideo","setErrorVideo","errorNext","setErrorNext","finQuestion","setFinQuestion","finCorrectAnswer","setFinCorrectAnswer","finWrongAnswers","setFinWrongAnswers","finTestArray","setFinTestArray","errorFin","setErrorFin","photoArray","setPhotoArray","picArray","setPicArray","currentImage","setCurrentImage","file","setFile","openInfoModal","current","internalPlayer","pauseVideo","openModal","closeTerminModal","openTerminModal","closeLinkModal","openLinkModal","closeInfoModal","openTestModal","openFinTestModal","closeFinTestModal","closeTestModal","onStateChange","event","data","PlayerState","PLAYING","id","setInterval","getCurrentTime","then","time","forEach","item","index","clearInterval","handleFileChange","e","selectedFile","target","files","isValidFileType","alert","textFileExtensions","fileNameParts","name","split","fileExtension","length","toLowerCase","includes","handleSaveFile","closeModal","interval","extractVideoId","url","match","handleSave","extractedVideoId","console","handleImageUpload","imgFile","size","type","prevArray","fetchCurrentTime","getDuration","handleSaveInfo","newInfoItem","Math","floor","text","isTimeExistsInInfo","some","isTimeExistsInTest","newArray","handleSavePic","photos","isTimeExistsInTermins","handleNextStep","handleSaveTermins","newTerminItem","isTimeExistsInPic","handleSaveLink","newLinkItem","handleSendSaveClick","formData","FormData","append","JSON","stringify","concat","response","post","headers","handleSaveTest","answer","newTestItem","incorrect1","incorrect2","incorrect3","handleSaveFinTest","finIncorrect1","finIncorrect2","finIncorrect3","children","className","placeholder","value","onChange","checked","onClick","style","color","disabled","opts","height","width","ref","map","terminItem","dangerouslySetInnerHTML","__html","testItem","infoItem","photo","photoIndex","src","URL","createObjectURL","alt","linkItem","parseFloat","seekTo","newWrongAnswers"],"sources":["/Applications/MAMP/htdocs/gitrepo/tourclubkz/my-react-app/src/addLesson.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Navpanmini from './navpanmini';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport YouTube from 'react-youtube';\nimport './addlesson.css';\nimport axios from 'axios';\nimport { BASE_URL } from './config';\nconst AddLesson = () => {\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [lessonType, setLessonType] = useState('text'); // Default to text lesson\n  const { course } = useParams();\n  const titleWithSpaces = course.replace(/-/g, ' ');\n  const [videoLink, setVideoLink] = useState('');\n  const [videoSaved, setVideoSaved] = useState(false);\n  const videoRef = useRef(null);\n  const [intervalId, setIntervalId] = useState(null);\n  const navigate = useNavigate(); // Используйте useNavigate\n  const [videoId, setVideoId] = useState('');\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [lessonTitle, setLessonTitle] = useState(\"\"); \n  const [infoModalVisible, setInfoModalVisible] = useState(false);\n  const [terminsModalVisible, setTerminsModalVisible] = useState(false);\n  const [infoType, setInfoType] = useState('text'); // Default to text\n  const [selectedOption, setSelectedOption] = useState('text');\n  const [infoText, setInfoText] = useState('');\n  const [infoArray, setInfoArray] = useState([]); // New state for storing information array\n  const [terminArray, setTerminArray] = useState([]); // New state for storing information array\n  const [terminText, setTerminText] = useState('');\n  const [error, setError] = useState(null);\n\n  const [testModalVisible, setTestModalVisible] = useState(false);\n\n  const [finTestModalVisible, setFinTestModalVisible] = useState(false);\n  const [linkModalVisible, setLinkModalVisible] = useState(false);\n  const [testArray, setTestArray] = useState([]); // New state for storing information array\n  const [testText, setTestText] = useState('');\n  const [question, setQuestion] = useState('');\n  const [correctAnswer, setCorrectAnswer] = useState('');\n  const [wrongAnswers, setWrongAnswers] = useState(['', '', '']);\n  const [infoImage, setInfoImage] = useState(null);\n  const [linkArray, setLinkArray] = useState([]); // New state for storing information array\n  const [linkText, setLinkText] = useState('');\n  const [step, setStep] = useState(1);\n  const [errorVideo, setErrorVideo] = useState('');\n  const [errorNext, setErrorNext] = useState('');\n  const [finQuestion, setFinQuestion] = useState('');\n  const [finCorrectAnswer, setFinCorrectAnswer] = useState('');\n  const [finWrongAnswers, setFinWrongAnswers] = useState(['', '', '']);\n  const [finTestArray, setFinTestArray] = useState([]); \n  const [errorFin, setErrorFin] = useState('');\n  const [photoArray, setPhotoArray] = useState([]); // New state for photos\n  const [picArray, setPicArray] = useState([]);\n  const [currentImage, setCurrentImage] = useState(null);\n  const [file, setFile] = useState(null);\n  const openInfoModal = () => {\n    setInfoModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const openModal = () => {\n    setSelectedCourse(course);\n  };\n  const closeTerminModal = () => {\n    setTerminsModalVisible(false);\n    setError(null)\n  };\n\n  const openTerminModal = () => {\n    setTerminsModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n\n  const closeLinkModal = () => {\n    setLinkModalVisible(false);\n    setError(null)\n  };\n\n  const openLinkModal = () => {\n    setLinkModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const closeInfoModal = () => {\n    setInfoModalVisible(false);\n    setError(null)\n  };\n\n\n  const openTestModal = () => {\n    setTestModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n\n  const openFinTestModal = () => {\n    setFinTestModalVisible(true);\n    };\n    const closeFinTestModal = () => {\n      setFinTestModalVisible(false);\n      \n    };\n  \n\n  const closeTestModal = () => {\n    setTestModalVisible(false);\n    setError(null)\n  };\n\n\n  const onStateChange = (event) => {\n    if (videoRef.current) {\n      if (event.data === YouTube.PlayerState.PLAYING) {\n        const id = setInterval(() => {\n          if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n            videoRef.current.internalPlayer.getCurrentTime().then((time) => {\n         \n              picArray.forEach((item, index) => {\n              \n          \n              });\n              \n              setCurrentTime(time);\n            });\n          }\n        }, 1000);\n        setIntervalId(id);\n      } else {\n        clearInterval(intervalId);\n      }\n    }\n  };\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (isValidFileType(selectedFile)) {\n      setFile(selectedFile);\n    } else {\n      alert('Invalid file type. Please select a text-based file.');\n    }\n  };\n  const isValidFileType = (file) => {\n    const textFileExtensions = ['txt', 'doc', 'docx', 'pdf', 'rtf', 'odt']; // Add more if needed\n    const fileNameParts = file.name.split('.');\n    const fileExtension = fileNameParts[fileNameParts.length - 1].toLowerCase();\n    return textFileExtensions.includes(fileExtension);\n  };\n  const handleSaveFile = () => {\n    if (file) {\n      // You can perform any actions with the 'file' here\n      // For example, you might want to save it in the component state\n  \n      closeModal()\n    } else {\n      alert('Please select a valid text-based file before saving.');\n    }\n\n\n  };\n\nuseEffect(() => {\n  const interval = setInterval(() => {\n    if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n      // handleTimeUpdate(currentTime);\n    }\n  }, 1000); // Проверка каждую секунду\n\n  return () => {\n    clearInterval(interval);\n  };\n}, [videoRef.current]); // Добавлен videoRef.current в зависимости useEffect\n  // Function to close the modal\n  const closeModal = () => {\n    setSelectedCourse(null);\n  };\n  const extractVideoId = (url) => {\n    // Предполагаем, что url имеет формат https://www.youtube.com/watch?v=ALdF0V9Z_os\n    const match = url.match(/(?:\\?v=|\\/embed\\/|\\.be\\/|\\/v\\/|\\/\\d{1,2}\\/|\\/(?=p\\/))([^\"&?\\/\\s]{11})/);\n    return match ? match[1] : null;\n  };\n  const handleSave = () => {\n    const extractedVideoId = extractVideoId(videoLink);\n    \n    if (extractedVideoId) {\n   \n      setVideoSaved(true);\n      setVideoId(extractedVideoId)\n      setErrorVideo(\"\")\n    } else {\n      console.error('Неверный формат ссылки на видео');\n      setErrorVideo('Неверный формат ссылки на видео');\n    }\n    \n    closeModal();\n  };\n  const handleImageUpload = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      let imgFile = event.target.files[0];\n\n      if (imgFile.size > 5000000) {\n        alert('Размер файла не должен превышать 5 МБ');\n      } else if (\n        imgFile.type === 'image/jpeg' ||\n        imgFile.type === 'image/jpg' ||\n        imgFile.type === 'image/png'\n      ) {\n        setCurrentImage(imgFile);\n        setPhotoArray((prevArray) => [...prevArray, imgFile]); // Сразу добавляем в массив\n      } else {\n        alert('Пожалуйста, загрузите файл в формате jpg или jpeg');\n      }\n    }\n  };\n\n  useEffect(() => {\n    const fetchCurrentTime = async () => {\n      if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n        const time = await videoRef.current.internalPlayer.getCurrentTime();\n        setCurrentTime(time);\n      }\n  \n      if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getDuration) {\n        const duration = await videoRef.current.internalPlayer.getDuration();\n        setDuration(duration);\n      }\n    };\n  \n    fetchCurrentTime();\n    const intervalId = setInterval(fetchCurrentTime, 1000); // Update every second\n  \n    return () => clearInterval(intervalId); // Clean up on unmount\n  }, [videoRef.current]);\n  const handleSaveInfo = () => {\n    const newInfoItem = {\n      time: Math.floor(currentTime),\n      text: infoText,\n   \n    };\n    const isTimeExistsInInfo = terminArray.some(item => item.time === newInfoItem.time);\n    \n    const isTimeExistsInTest = testArray.some(item => item.time === newInfoItem.time);\n\n    if (!isTimeExistsInInfo && !isTimeExistsInTest) {\n      setInfoArray(prevArray => {\n        const newArray = [...prevArray, newInfoItem];\n        return newArray;\n      });\n      setInfoText('');\n\n      closeInfoModal();\n    } else {\n      setError('Блок с таким временем уже существует');\n    }\n  };\n  const handleSavePic = () => {\n    if (currentImage) {\n      const newInfoItem = {\n        time: Math.floor(currentTime),\n        photos: [currentImage], // Добавляем текущее изображение в photoArray\n      };\n      const isTimeExistsInTermins = terminArray.some(item => item.time === newInfoItem.time);\n      \n      const isTimeExistsInTest = testArray.some(item => item.time === newInfoItem.time);\n      const isTimeExistsInInfo = infoArray.some(item => item.time === newInfoItem.time);\n      if (!isTimeExistsInInfo && !isTimeExistsInTermins && !isTimeExistsInTest) {\n        setPicArray((prevArray) => [...prevArray, newInfoItem]);\n  \n        // Очистка photoArray и сброс текущей картинки\n        setPhotoArray([]);\n        setCurrentImage(null);\n    \n        closeInfoModal();\n        } else {\n        setError('Блок с таким временем уже существует');\n    }\n    \n    }\n  };\n  \n\n  const handleNextStep = () => {\n    if(lessonType === 'video') {\n      if (videoId === 0) {\n        setErrorNext('Добавьте видео');\n      } else if (testArray.length === 0) {\n        setErrorNext('Добавьте хотя бы один тест');\n      } else if (lessonTitle.length === 0) {\n        setErrorNext('Введите название урока');\n      } else {\n        // Все условия выполнены, можно переходить на следующий шаг\n        setErrorNext('');\n        setStep(step + 1);\n      }\n    }\n    if(lessonType === 'text') {\n      if (file === null) {\n        setErrorNext('Добавьте файл');\n      } else if (lessonTitle.length === 0) {\n        setErrorNext('Введите название урока');\n      } else {\n        // Все условия выполнены, можно переходить на следующий шаг\n        setErrorNext('');\n        setStep(step + 1);\n      }\n    }\n  };\n  \n\n  const handleSaveTermins = () => {\n    const newTerminItem = {\n      time: Math.floor(currentTime),\n      text: terminText,\n    };\n  \n    // Проверка, существует ли уже элемент с таким же временем в infoArray\n    const isTimeExistsInInfo = infoArray.some(item => item.time === newTerminItem.time);\n    const isTimeExistsInTest = testArray.some(item => item.time === newTerminItem.time);\n    const isTimeExistsInPic = picArray.some(item => item.time === newTerminItem.time);\n    if (!isTimeExistsInInfo && !isTimeExistsInTest && !isTimeExistsInPic) {\n      // Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\n      setTerminArray(prevArray => {\n        const newArray = [...prevArray, newTerminItem];\n  \n        return newArray;\n      });\n  \n      // Очистка значения текстареи после сохранения\n      setTerminText('');\n      closeTerminModal();\n    } else {\n      setError('Термин с таким временем уже существует в информационном блоке');\n  }\n\n    // Закрытие модального окна\n\n  };\n  const handleSaveLink = () => {\n    const newLinkItem = {\n      text: linkText,\n    };\n  \n    // Проверка, существует ли уже элемент с таким же временем в infoArray\n \n      // Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\n      setLinkArray(prevArray => {\n        const newArray = [...prevArray, newLinkItem];\n  \n        return newArray;\n      })\n  \n      // Очистка значения текстареи после сохранения\n      setLinkText('');\n      closeLinkModal();\n  \n\n    // Закрытие модального окна\n\n  };\n\n  const handleSendSaveClick = async () => {\n    if(lessonType === 'video') {\n      if(finTestArray <= 3) {\n        setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока')\n      }else {\n  \n      \n  \n      const formData = new FormData();\n      formData.append('video', videoId);\n      formData.append('terminarray', JSON.stringify(terminArray));\n      formData.append('infoarray', JSON.stringify(infoArray));\n      formData.append('testarray', JSON.stringify(testArray));\n      formData.append('link', JSON.stringify(linkArray));\n      formData.append('finarray', JSON.stringify(finTestArray));\n      formData.append('name', lessonTitle);\n      formData.append('course', titleWithSpaces);\n      formData.append('lessontype', lessonType);\n  \n      \n      picArray.forEach((item, index) => {\n        formData.append(`image_${index}`, item.photos[0]);\n        formData.append(`time_${index}`, item.time); // Append time values\n        \n      });\n      \n      \n      try {\n        const response = await axios.post(\n          `${BASE_URL}tourschoolphp/addLessonphp.php`,\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n    \n        navigate(`/courses/${course}`);\n  \n      } catch (error) {\n        console.error('Error sending message:', error);\n      }\n    \n      // setShowUserModal(false);\n    }\n    }else {\n      if(finTestArray <= 3) {\n        setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока')\n      }else {\n  \n      const formData = new FormData();\n      formData.append('finarray', JSON.stringify(finTestArray));\n      formData.append('name', lessonTitle);\n      formData.append('course', titleWithSpaces);\n      formData.append('lessontype', lessonType);\n      formData.append('file', file);\n\n      try {\n        const response = await axios.post(\n          `${BASE_URL}tourschoolphp/addLessonTextphp.php`,\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n    \n        navigate(`/courses/${course}`);\n  \n      } catch (error) {\n        console.error('Error sending message:', error);\n      }\n    \n      // setShowUserModal(false);\n    }\n    }\n   \n  };\n  \n  \n\n  const handleSaveTest = () => {\n    if (!question || !correctAnswer || wrongAnswers.some(answer => !answer)) {\n      setError('Пожалуйста, заполните все текстовые поля');\n      return;\n    }\n    const newTestItem = {\n      time: Math.floor(currentTime),\n      question: question,\n      correctAnswer: correctAnswer,\n      incorrect1: wrongAnswers[0],\n      incorrect2: wrongAnswers[1],\n      incorrect3: wrongAnswers[2],\n    };\n    const isTimeExistsInInfo = infoArray.some(item => item.time === newTestItem.time);\n    const isTimeExistsInPic = picArray.some(item => item.time === newTestItem.time);\n    const isTimeExistsInTermins = terminArray.some(item => item.time === newTestItem.time);\n    if (!isTimeExistsInInfo && !isTimeExistsInTermins && !isTimeExistsInPic) {\n      setTestArray(prevArray => {\n        const newArray = [...prevArray, newTestItem];\n        return newArray;\n      });\n  \n  \n      // Очистка значения текстареи после сохранения\n      setQuestion('');\n      setCorrectAnswer('');\n      setWrongAnswers(['', '', '']);\n      closeTestModal();\n      setError(null)\n    } else {\n      setError('Блок с таким временем уже существует');\n  }\n\n   \n  };\n  const handleSaveFinTest = () => {\n    if (!finQuestion || !finCorrectAnswer || finWrongAnswers.some(answer => !answer)) {\n      setError('Пожалуйста, заполните все текстовые поля');\n      return;\n    }\n    const newTestItem = {\n      finQuestion: finQuestion,\n      finCorrectAnswer: finCorrectAnswer,\n      finIncorrect1: finWrongAnswers[0],\n      finIncorrect2: finWrongAnswers[1],\n      finIncorrect3: finWrongAnswers[2],\n    };\n      setFinTestArray(prevArray => {\n        const newArray = [...prevArray, newTestItem];\n        return newArray;\n      });\n  \n  \n      // Очистка значения текстареи после сохранения\n      setFinQuestion('');\n      setFinCorrectAnswer('');\n      setFinWrongAnswers(['', '', '']);\n\n      closeFinTestModal();  \n}\n\n  return (\n    <>\n    <div className='container7'>\n        <div className='addlessoncoursename'>{titleWithSpaces}</div>\n    <Navpanmini />\n\n    {step === 1 && (\n      <>\n    <input\n    className='inputaddless2'\n      type=\"text\"\n      placeholder=\"Название урока\"\n      value={lessonTitle}\n      onChange={(e) => setLessonTitle(e.target.value)}\n    />\n\n      <div className=\"lesson-type-selector\">\n        <label>\n          <input\n          className='checkadd'\n            type=\"radio\"\n            value=\"text\"\n            checked={lessonType === 'text'}\n            onChange={() => setLessonType('text')}\n          />\n          Текстовый урок\n        </label>\n\n        <label>\n          <input\n            type=\"radio\"\n            value=\"video\"\n            checked={lessonType === 'video'}\n            onChange={() => setLessonType('video')}\n          />\n          Видео урок\n        </label>\n      </div>\n     \n{lessonType === 'text' && (\n  <>\n  <div className='addlessonlink' onClick={openModal}>\n  Добавить документ\n</div>\n{file && (\n  <div className='file'>{file.name}</div>\n)}\n</>\n)}\n\n      {!videoSaved && lessonType === 'video' && (\n        <div className='addlessonlink' onClick={openModal}>\n          Добавить видеоряд\n        </div>\n      )}\n {errorVideo && <div style={{ color: 'red' }}>{errorVideo}</div>}\n      {selectedCourse && (\n        <div className=\"modal-overlay4\">\n          <div className=\"modal4\">\n          {lessonType === 'text' && (\n        <>\n      <input className='filediv' type=\"file\" onChange={handleFileChange} />\n      <button onClick={handleSaveFile} disabled={!file}>\n        Сохранить\n      </button>\n        </>\n            )}\n            {lessonType === 'video' && (\n              <>\n                <input\n                  className='inputaddless'\n                  type=\"text\"\n                  placeholder=\"Ссылка на видео с YouTube\"\n                  value={videoLink}\n                  onChange={(e) => setVideoLink(e.target.value)}\n                />\n                <button onClick={handleSave}>Сохранить</button>\n              </>\n            )}\n            <button onClick={closeModal}>Закрыть</button>\n            \n          </div>\n        </div>\n      )}\n\n      {videoSaved && (\n  <div className='centeraddless'> \n  <div className='videoandtime'>\n    <YouTube\n      videoId={videoId}\n      opts={{ height: '390', width: '640' }}\n      onStateChange={onStateChange}\n      ref={videoRef}\n    />\n    <div>Текущее время: {Math.floor(currentTime)} секунд</div>\n    </div>\n    <div className='addcontainers'>\n    <div className='knopkacont' onClick={openTerminModal}>Добавить термин</div>\n    <div className='knopkacont' onClick={openTestModal}>Добавить тест</div>\n    <div className='knopkacont' onClick={openInfoModal}>Добавить информацию</div>\n    <div className='knopkacont' onClick={openLinkModal}>Добавить ссылки</div>\n    <div className='allcontainersadd'>\n\n    <div className='infoblock addshow'>Термины\n{terminArray.map((terminItem, index) => (\n  <div key={index}>\n    Термин: {index + 1}, Время: {terminItem.time} секунд, Текст: \n    <div dangerouslySetInnerHTML={{ __html: terminItem.text.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n\n\n</div>\n\n\n    \n\n<div className='infoblock addshow'>Тест\n{testArray.map((testItem, index) => (\n  <div key={index}>\n    Вопрос: {index + 1}, Время: {testItem.time} секунд, Текст: \n    <div className='addtest' dangerouslySetInnerHTML={{ __html: testItem.question.replace(/\\n/g, '<br>') }} />\n    Правильный ответ: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.correctAnswer.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 1: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.incorrect1.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 2: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.incorrect2.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 3: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.incorrect3.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n\n  </div>\n\n  <div className='infoblock addshow'>Информационные блоки\n    {infoArray.map((infoItem, index) => (\n  <div key={index}>\n    Информация: {index + 1}, Время: {infoItem.time} секунд, Текст: \n      <div dangerouslySetInnerHTML={{ __html: infoItem.text.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n  {picArray.map((infoItem, index) => (\n    <div key={index}>\n      Информация: {index + 1}, Время: {infoItem.time} секунд, Текст: {/* Добавьте ваш текст, если необходимо */}\n      \n      {/* Отобразите фотографии внутри информационного блока */}\n      {infoItem.photos.map((photo, photoIndex) => (\n        <img\n          key={photoIndex}\n          className='imgadd'\n          src={URL.createObjectURL(photo)}\n          alt={`uploaded-${photoIndex}`}\n        />\n      ))}\n    </div>\n  ))}\n</div>\n\n  <div className='infoblock addshow'>Ссылки\n{linkArray.map((linkItem, index) => (\n  <div key={index}>\n    Ссылки: {index + 1}\n    <div dangerouslySetInnerHTML={{ __html: linkItem.text.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n</div>\n</div>\n</div>\n\n  </div>\n  \n)}\n {errorNext && <div style={{ color: 'red' }}>{errorNext}</div>}\n     <button className='knopkacont' onClick={handleNextStep}>Далее</button>\n</>\n)}\n\n</div>\n{step === 2 && (\n  <>\n  <div className='fintesttoadd'>Добавление теста после урока </div>\n  <div className='fintestcont'>\n  <div className='finknopkacont' onClick={openFinTestModal}>Добавить вопрос</div>\n  {finTestArray.map((testItem, index) => (\n  <div key={index}>\n    Вопрос: {index + 1}, \n    <div className='addtest' dangerouslySetInnerHTML={{ __html: testItem.finQuestion.replace(/\\n/g, '<br>') }} />\n    Правильный ответ: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finCorrectAnswer.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 1: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finIncorrect1.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 2: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finIncorrect2.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 3: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finIncorrect3.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n  <button className='knopkacont' onClick={handleSendSaveClick}>Добавить урок</button>\n  </div>\n  </>\n)}\n\n{infoModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n            <div className='centeraddless'>\n              Текущее время: \n              <input \n                className='inputaddless2'\n                type=\"number\"\n                value={Math.floor(currentTime)}\n                onChange={(e) => {\n                  setCurrentTime(parseFloat(e.target.value));\n                  if (videoRef.current) {\n                    videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n                  }\n                }}\n              />\n              секунд\n            </div>\n            <select \n              value={selectedOption}\n              onChange={(e) => setSelectedOption(e.target.value)}\n            >\n              <option value=\"text\">Текст</option>\n              <option value=\"pic\">Картинка</option>\n            </select>\n\n            {selectedOption === 'text' && (\n              <>\n                {error && <p>{error}</p>}\n                <textarea\n                  placeholder=\"Добавьте информацию\"\n                  value={infoText}\n                  onChange={(e) => setInfoText(e.target.value)}\n                />\n                <button onClick={handleSaveInfo}>Сохранить</button>\n              </>\n            )}\n    {selectedOption === 'pic' && (\n        <div>\n       {error && <p>{error}</p>}\n          <input type=\"file\" onChange={handleImageUpload} />\n          {currentImage && (\n            <img\n              className='imgadd'\n              src={URL.createObjectURL(currentImage)}\n              alt={`uploaded-0`}\n            />\n          )}\n          <button onClick={handleSavePic}>Сохранить</button>\n        </div>\n  )}\n\n            <button onClick={closeInfoModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{testModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n            <div>\n              Текущее время: \n              <input \n                className='inputaddless2'\n                type=\"number\"\n                value={Math.floor(currentTime)}\n                onChange={(e) => {\n                  setCurrentTime(parseFloat(e.target.value));\n                  if (videoRef.current) {\n                    videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n                  }\n                }}\n              />\n              секунд\n            </div>\n           \n           \n              <>\n              <textarea\n        placeholder=\"Добавьте вопрос\"\n        value={question}\n        onChange={(e) => setQuestion(e.target.value)}\n      />\n      <textarea\n        placeholder=\"Добавьте правильный ответ\"\n        value={correctAnswer}\n        onChange={(e) => setCorrectAnswer(e.target.value)}\n      />\n      {wrongAnswers.map((answer, index) => (\n        <textarea\n          key={index}\n          placeholder={`Добавьте неправильный ответ ${index + 1}`}\n          value={answer}\n          onChange={(e) => {\n            const newWrongAnswers = [...wrongAnswers];\n            newWrongAnswers[index] = e.target.value;\n            setWrongAnswers(newWrongAnswers);\n          }}\n        />\n      ))}\n      {error && <p>{error}</p>}\n                <button onClick={handleSaveTest}>Сохранить</button>\n              </>\n            <button onClick={closeTestModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{finTestModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n              <>\n              <textarea\n        placeholder=\"Добавьте вопрос\"\n        value={finQuestion}\n        onChange={(e) => setFinQuestion(e.target.value)}\n      />\n      <textarea\n        placeholder=\"Добавьте правильный ответ\"\n        value={finCorrectAnswer}\n        onChange={(e) => setFinCorrectAnswer(e.target.value)}\n      />\n      {finWrongAnswers.map((answer, index) => (\n        <textarea\n          key={index}\n          placeholder={`Добавьте неправильный ответ ${index + 1}`}\n          value={answer}\n          onChange={(e) => {\n            const newWrongAnswers = [...finWrongAnswers];\n            newWrongAnswers[index] = e.target.value;\n            setFinWrongAnswers(newWrongAnswers);\n          }}\n        />\n      ))}\n                <button onClick={handleSaveFinTest}>Сохранить</button>\n              </>\n            <button onClick={closeFinTestModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{terminsModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n            <div>\n              Текущее время: \n              <input \n                className='inputaddless2'\n                type=\"number\"\n                value={Math.floor(currentTime)}\n                onChange={(e) => {\n                  setCurrentTime(parseFloat(e.target.value));\n                  if (videoRef.current) {\n                    videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n                  }\n                }}\n              />\n              секунд\n            </div>\n           \n           \n              <>\n                <textarea\n                  placeholder=\"Добавьте термин\"\n                  value={terminText}\n                  onChange={(e) => setTerminText(e.target.value)}\n                />\n                    {error && <p>{error}</p>}\n                <button onClick={handleSaveTermins}>Сохранить</button>\n              </>\n            <button onClick={closeTerminModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{linkModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">           \n              <>\n                <textarea\n                  placeholder=\"Добавьте ссылку\"\n                  value={linkText}\n                  onChange={(e) => setLinkText(e.target.value)}\n                />\n                    {error && <p>{error}</p>}\n                <button onClick={handleSaveLink}>Сохранить</button>\n              </>\n            <button onClick={closeLinkModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n\n       </>\n  );\n}\n\nexport default AddLesson;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}