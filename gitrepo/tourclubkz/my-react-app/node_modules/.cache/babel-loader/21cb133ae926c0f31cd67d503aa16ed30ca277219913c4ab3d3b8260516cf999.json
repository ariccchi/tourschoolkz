{"ast":null,"code":"import React,{useState}from\"react\";import{jwtDecode}from'jwt-decode';import{BASE_URL}from'./config';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Authcode(){const token=localStorage.getItem('token');const decodedToken=jwtDecode(token);const id=decodedToken.sub;const[emailModal,setEmailModal]=useState(false);const handleGetAuthCode=async()=>{const data={id:id};try{const response=await axios.post(\"\".concat(BASE_URL,\"tourschoolphp/authcode.php\"),JSON.stringify(data),{headers:{'Content-Type':'application/json'}});if(response.data.success){console.log(\"Уникальный код был создан\");}else{console.error('Error sending message:',response.data.error);}}catch(error){if(error.response){// Серверная ошибка\nconsole.error('Server Error:',error.response.data);}else if(error.request){// Ошибка при отправке запроса\nconsole.error('Request Error:',error.request);}else{// Другая ошибка\nconsole.error('Error:',error.message);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"knopkaApplication\",onClick:handleGetAuthCode,children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"applicationtextprof\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043A\\u043E\\u0434 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u0438\"})]});}export default Authcode;","map":{"version":3,"names":["React","useState","jwtDecode","BASE_URL","axios","jsx","_jsx","jsxs","_jsxs","Authcode","token","localStorage","getItem","decodedToken","id","sub","emailModal","setEmailModal","handleGetAuthCode","data","response","post","concat","JSON","stringify","headers","success","console","log","error","request","message","className","onClick","children"],"sources":["/Applications/MAMP/htdocs/gitrepo/tourclubkz/my-react-app/src/authocode.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { jwtDecode } from 'jwt-decode';\nimport { BASE_URL } from './config';\nimport axios from 'axios';\nfunction Authcode() {\n    const token = localStorage.getItem('token');\n    const decodedToken = jwtDecode(token);\n    const id = decodedToken.sub;\n    const [emailModal, setEmailModal] = useState(false); \n\n    const handleGetAuthCode = async () => {\n\n      const data = {\n        id: id\n      };\n      \n        try {\n          const response = await axios.post(\n            `${BASE_URL}tourschoolphp/authcode.php`,\n            JSON.stringify(data),\n            {\n              headers: {\n                'Content-Type': 'application/json',\n              },\n            }\n          );\n      \n          if (response.data.success) {\n           console.log(\"Уникальный код был создан\");\n          } else {\n            console.error('Error sending message:', response.data.error);\n          }\n        } catch (error) {\n    if (error.response) {\n        // Серверная ошибка\n        console.error('Server Error:', error.response.data);\n    } else if (error.request) {\n        // Ошибка при отправке запроса\n        console.error('Request Error:', error.request);\n    } else {\n        // Другая ошибка\n        console.error('Error:', error.message);\n    }\n}\n      };\n\n    return(\n        <div className=\"knopkaApplication\" onClick={handleGetAuthCode}> <div className=\"applicationtextprof\">Создать код авторизации</div>\n        </div>\n    )\n}\nexport default Authcode;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,KAAQ,YAAY,CACtC,OAASC,QAAQ,KAAQ,UAAU,CACnC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC1B,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAChB,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,YAAY,CAAGX,SAAS,CAACQ,KAAK,CAAC,CACrC,KAAM,CAAAI,EAAE,CAAGD,YAAY,CAACE,GAAG,CAC3B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAEnD,KAAM,CAAAiB,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CAEpC,KAAM,CAAAC,IAAI,CAAG,CACXL,EAAE,CAAEA,EACN,CAAC,CAEC,GAAI,CACF,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,IAAI,IAAAC,MAAA,CAC5BnB,QAAQ,+BACXoB,IAAI,CAACC,SAAS,CAACL,IAAI,CAAC,CACpB,CACEM,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CACF,CAAC,CAED,GAAIL,QAAQ,CAACD,IAAI,CAACO,OAAO,CAAE,CAC1BC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CACzC,CAAC,IAAM,CACLD,OAAO,CAACE,KAAK,CAAC,wBAAwB,CAAET,QAAQ,CAACD,IAAI,CAACU,KAAK,CAAC,CAC9D,CACF,CAAE,MAAOA,KAAK,CAAE,CACpB,GAAIA,KAAK,CAACT,QAAQ,CAAE,CAChB;AACAO,OAAO,CAACE,KAAK,CAAC,eAAe,CAAEA,KAAK,CAACT,QAAQ,CAACD,IAAI,CAAC,CACvD,CAAC,IAAM,IAAIU,KAAK,CAACC,OAAO,CAAE,CACtB;AACAH,OAAO,CAACE,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAACC,OAAO,CAAC,CAClD,CAAC,IAAM,CACH;AACAH,OAAO,CAACE,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAACE,OAAO,CAAC,CAC1C,CACJ,CACM,CAAC,CAEH,mBACIvB,KAAA,QAAKwB,SAAS,CAAC,mBAAmB,CAACC,OAAO,CAAEf,iBAAkB,CAAAgB,QAAA,EAAC,GAAC,cAAA5B,IAAA,QAAK0B,SAAS,CAAC,qBAAqB,CAAAE,QAAA,CAAC,kIAAuB,CAAK,CAAC,EAC7H,CAAC,CAEd,CACA,cAAe,CAAAzB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}