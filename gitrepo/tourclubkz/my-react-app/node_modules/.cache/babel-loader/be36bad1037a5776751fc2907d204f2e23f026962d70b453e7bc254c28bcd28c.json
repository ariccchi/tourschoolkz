{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/tourclubkz/my-react-app/src/addLesson.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport Navpanmini from './navpanmini';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport YouTube from 'react-youtube';\nimport './addlesson.css';\nimport axios from 'axios';\nimport { BASE_URL } from './config';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AddLesson = () => {\n  _s();\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [lessonType, setLessonType] = useState('text'); // Default to text lesson\n  const {\n    course\n  } = useParams();\n  const titleWithSpaces = course.replace(/-/g, ' ');\n  const [videoLink, setVideoLink] = useState('');\n  const [videoSaved, setVideoSaved] = useState(false);\n  const videoRef = useRef(null);\n  const [intervalId, setIntervalId] = useState(null);\n  const navigate = useNavigate(); // Используйте useNavigate\n  const [videoId, setVideoId] = useState('');\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [lessonTitle, setLessonTitle] = useState(\"\");\n  const [infoModalVisible, setInfoModalVisible] = useState(false);\n  const [terminsModalVisible, setTerminsModalVisible] = useState(false);\n  const [infoType, setInfoType] = useState('text'); // Default to text\n  const [selectedOption, setSelectedOption] = useState('text');\n  const [infoText, setInfoText] = useState('');\n  const [infoArray, setInfoArray] = useState([]); // New state for storing information array\n  const [terminArray, setTerminArray] = useState([]); // New state for storing information array\n  const [terminText, setTerminText] = useState('');\n  const [error, setError] = useState(null);\n  const [testModalVisible, setTestModalVisible] = useState(false);\n  const [finTestModalVisible, setFinTestModalVisible] = useState(false);\n  const [linkModalVisible, setLinkModalVisible] = useState(false);\n  const [testArray, setTestArray] = useState([]); // New state for storing information array\n  const [testText, setTestText] = useState('');\n  const [question, setQuestion] = useState('');\n  const [correctAnswer, setCorrectAnswer] = useState('');\n  const [wrongAnswers, setWrongAnswers] = useState(['', '', '']);\n  const [infoImage, setInfoImage] = useState(null);\n  const [linkArray, setLinkArray] = useState([]); // New state for storing information array\n  const [linkText, setLinkText] = useState('');\n  const [step, setStep] = useState(1);\n  const [errorVideo, setErrorVideo] = useState('');\n  const [errorNext, setErrorNext] = useState('');\n  const [finQuestion, setFinQuestion] = useState('');\n  const [finCorrectAnswer, setFinCorrectAnswer] = useState('');\n  const [finWrongAnswers, setFinWrongAnswers] = useState(['', '', '']);\n  const [finTestArray, setFinTestArray] = useState([]);\n  const [errorFin, setErrorFin] = useState('');\n  const [photoArray, setPhotoArray] = useState([]); // New state for photos\n  const [picArray, setPicArray] = useState([]);\n  const [currentImage, setCurrentImage] = useState(null);\n  const [file, setFile] = useState(null);\n  const openInfoModal = () => {\n    setInfoModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const openModal = () => {\n    setSelectedCourse(course);\n  };\n  const closeTerminModal = () => {\n    setTerminsModalVisible(false);\n    setError(null);\n  };\n  const openTerminModal = () => {\n    setTerminsModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const closeLinkModal = () => {\n    setLinkModalVisible(false);\n    setError(null);\n  };\n  const openLinkModal = () => {\n    setLinkModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const closeInfoModal = () => {\n    setInfoModalVisible(false);\n    setError(null);\n  };\n  const openTestModal = () => {\n    setTestModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const openFinTestModal = () => {\n    setFinTestModalVisible(true);\n  };\n  const closeFinTestModal = () => {\n    setFinTestModalVisible(false);\n  };\n  const closeTestModal = () => {\n    setTestModalVisible(false);\n    setError(null);\n  };\n  const onStateChange = event => {\n    if (videoRef.current) {\n      if (event.data === YouTube.PlayerState.PLAYING) {\n        const id = setInterval(() => {\n          if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n            videoRef.current.internalPlayer.getCurrentTime().then(time => {\n              picArray.forEach((item, index) => {});\n              setCurrentTime(time);\n            });\n          }\n        }, 1000);\n        setIntervalId(id);\n      } else {\n        clearInterval(intervalId);\n      }\n    }\n  };\n  const handleFileChange = e => {\n    const selectedFile = e.target.files[0];\n    if (isValidFileType(selectedFile)) {\n      setFile(selectedFile);\n    } else {\n      alert('Invalid file type. Please select a text-based file.');\n    }\n  };\n  const isValidFileType = file => {\n    const textFileExtensions = ['txt', 'doc', 'docx', 'pdf', 'rtf', 'odt']; // Add more if needed\n    const fileNameParts = file.name.split('.');\n    const fileExtension = fileNameParts[fileNameParts.length - 1].toLowerCase();\n    return textFileExtensions.includes(fileExtension);\n  };\n  const handleSaveFile = () => {\n    if (file) {\n      // You can perform any actions with the 'file' here\n      // For example, you might want to save it in the component state\n\n      closeModal();\n    } else {\n      alert('Please select a valid text-based file before saving.');\n    }\n  };\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n        // handleTimeUpdate(currentTime);\n      }\n    }, 1000); // Проверка каждую секунду\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [videoRef.current]); // Добавлен videoRef.current в зависимости useEffect\n  // Function to close the modal\n  const closeModal = () => {\n    setSelectedCourse(null);\n  };\n  const extractVideoId = url => {\n    // Предполагаем, что url имеет формат https://www.youtube.com/watch?v=ALdF0V9Z_os\n    const match = url.match(/(?:\\?v=|\\/embed\\/|\\.be\\/|\\/v\\/|\\/\\d{1,2}\\/|\\/(?=p\\/))([^\"&?\\/\\s]{11})/);\n    return match ? match[1] : null;\n  };\n  const handleSave = () => {\n    const extractedVideoId = extractVideoId(videoLink);\n    if (extractedVideoId) {\n      setVideoSaved(true);\n      setVideoId(extractedVideoId);\n      setErrorVideo(\"\");\n    } else {\n      console.error('Неверный формат ссылки на видео');\n      setErrorVideo('Неверный формат ссылки на видео');\n    }\n    closeModal();\n  };\n  const handleImageUpload = event => {\n    if (event.target.files && event.target.files[0]) {\n      let imgFile = event.target.files[0];\n      if (imgFile.size > 5000000) {\n        alert('Размер файла не должен превышать 5 МБ');\n      } else if (imgFile.type === 'image/jpeg' || imgFile.type === 'image/jpg' || imgFile.type === 'image/png') {\n        setCurrentImage(imgFile);\n        setPhotoArray(prevArray => [...prevArray, imgFile]); // Сразу добавляем в массив\n      } else {\n        alert('Пожалуйста, загрузите файл в формате jpg или jpeg');\n      }\n    }\n  };\n  useEffect(() => {\n    const fetchCurrentTime = async () => {\n      if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n        const time = await videoRef.current.internalPlayer.getCurrentTime();\n        setCurrentTime(time);\n      }\n      if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getDuration) {\n        const duration = await videoRef.current.internalPlayer.getDuration();\n        setDuration(duration);\n      }\n    };\n    fetchCurrentTime();\n    const intervalId = setInterval(fetchCurrentTime, 1000); // Update every second\n\n    return () => clearInterval(intervalId); // Clean up on unmount\n  }, [videoRef.current]);\n  const handleSaveInfo = () => {\n    const newInfoItem = {\n      time: Math.floor(currentTime),\n      text: infoText\n    };\n    const isTimeExistsInInfo = terminArray.some(item => item.time === newInfoItem.time);\n    const isTimeExistsInTest = testArray.some(item => item.time === newInfoItem.time);\n    if (!isTimeExistsInInfo && !isTimeExistsInTest) {\n      setInfoArray(prevArray => {\n        const newArray = [...prevArray, newInfoItem];\n        return newArray;\n      });\n      setInfoText('');\n      closeInfoModal();\n    } else {\n      setError('Блок с таким временем уже существует');\n    }\n  };\n  const handleSavePic = () => {\n    if (currentImage) {\n      const newInfoItem = {\n        time: Math.floor(currentTime),\n        photos: [currentImage] // Добавляем текущее изображение в photoArray\n      };\n      const isTimeExistsInTermins = terminArray.some(item => item.time === newInfoItem.time);\n      const isTimeExistsInTest = testArray.some(item => item.time === newInfoItem.time);\n      const isTimeExistsInInfo = infoArray.some(item => item.time === newInfoItem.time);\n      if (!isTimeExistsInInfo && !isTimeExistsInTermins && !isTimeExistsInTest) {\n        setPicArray(prevArray => [...prevArray, newInfoItem]);\n\n        // Очистка photoArray и сброс текущей картинки\n        setPhotoArray([]);\n        setCurrentImage(null);\n        closeInfoModal();\n      } else {\n        setError('Блок с таким временем уже существует');\n      }\n    }\n  };\n  const handleNextStep = () => {\n    if (lessonType === 'video') {\n      if (videoId === 0) {\n        setErrorNext('Добавьте видео');\n      } else if (testArray.length === 0) {\n        setErrorNext('Добавьте хотя бы один тест');\n      } else if (lessonTitle.length === 0) {\n        setErrorNext('Введите название урока');\n      } else {\n        // Все условия выполнены, можно переходить на следующий шаг\n        setErrorNext('');\n        setStep(step + 1);\n      }\n    }\n    if (lessonType === 'text') {\n      if (file === null) {\n        setErrorNext('Добавьте файл');\n      } else if (lessonTitle.length === 0) {\n        setErrorNext('Введите название урока');\n      } else {\n        // Все условия выполнены, можно переходить на следующий шаг\n        setErrorNext('');\n        setStep(step + 1);\n      }\n    }\n  };\n  const handleSaveTermins = () => {\n    const newTerminItem = {\n      time: Math.floor(currentTime),\n      text: terminText\n    };\n\n    // Проверка, существует ли уже элемент с таким же временем в infoArray\n    const isTimeExistsInInfo = infoArray.some(item => item.time === newTerminItem.time);\n    const isTimeExistsInTest = testArray.some(item => item.time === newTerminItem.time);\n    const isTimeExistsInPic = picArray.some(item => item.time === newTerminItem.time);\n    if (!isTimeExistsInInfo && !isTimeExistsInTest && !isTimeExistsInPic) {\n      // Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\n      setTerminArray(prevArray => {\n        const newArray = [...prevArray, newTerminItem];\n        return newArray;\n      });\n\n      // Очистка значения текстареи после сохранения\n      setTerminText('');\n      closeTerminModal();\n    } else {\n      setError('Термин с таким временем уже существует в информационном блоке');\n    }\n\n    // Закрытие модального окна\n  };\n  const handleSaveLink = () => {\n    const newLinkItem = {\n      text: linkText\n    };\n\n    // Проверка, существует ли уже элемент с таким же временем в infoArray\n\n    // Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\n    setLinkArray(prevArray => {\n      const newArray = [...prevArray, newLinkItem];\n      return newArray;\n    });\n\n    // Очистка значения текстареи после сохранения\n    setLinkText('');\n    closeLinkModal();\n\n    // Закрытие модального окна\n  };\n  const handleSendSaveClick = async () => {\n    if (lessonType === 'video') {\n      if (finTestArray <= 3) {\n        setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока');\n      } else {\n        const formData = new FormData();\n        formData.append('video', videoId);\n        formData.append('terminarray', JSON.stringify(terminArray));\n        formData.append('infoarray', JSON.stringify(infoArray));\n        formData.append('testarray', JSON.stringify(testArray));\n        formData.append('link', JSON.stringify(linkArray));\n        formData.append('finarray', JSON.stringify(finTestArray));\n        formData.append('name', lessonTitle);\n        formData.append('course', titleWithSpaces);\n        formData.append('lessontype', lessonType);\n        picArray.forEach((item, index) => {\n          formData.append(`image_${index}`, item.photos[0]);\n          formData.append(`time_${index}`, item.time); // Append time values\n        });\n        try {\n          const response = await axios.post(`${BASE_URL}tourschoolphp/addLessonphp.php`, formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n          navigate(`/courses/${course}`);\n        } catch (error) {\n          console.error('Error sending message:', error);\n        }\n\n        // setShowUserModal(false);\n      }\n    } else {\n      if (finTestArray <= 3) {\n        setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока');\n      } else {\n        const formData = new FormData();\n        formData.append('finarray', JSON.stringify(finTestArray));\n        formData.append('name', lessonTitle);\n        formData.append('course', titleWithSpaces);\n        formData.append('lessontype', lessonType);\n        formData.append('file', file);\n        try {\n          const response = await axios.post(`${BASE_URL}tourschoolphp/addLessonTextphp.php`, formData, {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }\n          });\n          navigate(`/courses/${course}`);\n        } catch (error) {\n          console.error('Error sending message:', error);\n        }\n\n        // setShowUserModal(false);\n      }\n    }\n  };\n  const handleSaveTest = () => {\n    if (!question || !correctAnswer || wrongAnswers.some(answer => !answer)) {\n      setError('Пожалуйста, заполните все текстовые поля');\n      return;\n    }\n    const newTestItem = {\n      time: Math.floor(currentTime),\n      question: question,\n      correctAnswer: correctAnswer,\n      incorrect1: wrongAnswers[0],\n      incorrect2: wrongAnswers[1],\n      incorrect3: wrongAnswers[2]\n    };\n    const isTimeExistsInInfo = infoArray.some(item => item.time === newTestItem.time);\n    const isTimeExistsInPic = picArray.some(item => item.time === newTestItem.time);\n    const isTimeExistsInTermins = terminArray.some(item => item.time === newTestItem.time);\n    if (!isTimeExistsInInfo && !isTimeExistsInTermins && !isTimeExistsInPic) {\n      setTestArray(prevArray => {\n        const newArray = [...prevArray, newTestItem];\n        return newArray;\n      });\n\n      // Очистка значения текстареи после сохранения\n      setQuestion('');\n      setCorrectAnswer('');\n      setWrongAnswers(['', '', '']);\n      closeTestModal();\n      setError(null);\n    } else {\n      setError('Блок с таким временем уже существует');\n    }\n  };\n  const handleSaveFinTest = () => {\n    if (!finQuestion || !finCorrectAnswer || finWrongAnswers.some(answer => !answer)) {\n      setError('Пожалуйста, заполните все текстовые поля');\n      return;\n    }\n    const newTestItem = {\n      finQuestion: finQuestion,\n      finCorrectAnswer: finCorrectAnswer,\n      finIncorrect1: finWrongAnswers[0],\n      finIncorrect2: finWrongAnswers[1],\n      finIncorrect3: finWrongAnswers[2]\n    };\n    setFinTestArray(prevArray => {\n      const newArray = [...prevArray, newTestItem];\n      return newArray;\n    });\n\n    // Очистка значения текстареи после сохранения\n    setFinQuestion('');\n    setFinCorrectAnswer('');\n    setFinWrongAnswers(['', '', '']);\n    closeFinTestModal();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container7\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addlessoncoursename\",\n        children: titleWithSpaces\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 511,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Navpanmini, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 5\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"inputaddless2\",\n          type: \"text\",\n          placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0443\\u0440\\u043E\\u043A\\u0430\",\n          value: lessonTitle,\n          onChange: e => setLessonTitle(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lesson-type-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"checkadd\",\n              type: \"radio\",\n              value: \"text\",\n              checked: lessonType === 'text',\n              onChange: () => setLessonType('text')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 526,\n              columnNumber: 11\n            }, this), \"\\u0422\\u0435\\u043A\\u0441\\u0442\\u043E\\u0432\\u044B\\u0439 \\u0443\\u0440\\u043E\\u043A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              value: \"video\",\n              checked: lessonType === 'video',\n              onChange: () => setLessonType('video')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 11\n            }, this), \"\\u0412\\u0438\\u0434\\u0435\\u043E \\u0443\\u0440\\u043E\\u043A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 7\n        }, this), lessonType === 'text' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addlessonlink\",\n            onClick: openModal,\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0434\\u043E\\u043A\\u0443\\u043C\\u0435\\u043D\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 3\n          }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file\",\n            children: file.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 553,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true), !videoSaved && lessonType === 'video' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"addlessonlink\",\n          onClick: openModal,\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u0438\\u0434\\u0435\\u043E\\u0440\\u044F\\u0434\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 9\n        }, this), errorVideo && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: errorVideo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 17\n        }, this), selectedCourse && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-overlay4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal4\",\n            children: [lessonType === 'text' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"filediv\",\n                type: \"file\",\n                onChange: handleFileChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 569,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSaveFile,\n                disabled: !file,\n                children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true), lessonType === 'video' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"inputaddless\",\n                type: \"text\",\n                placeholder: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0432\\u0438\\u0434\\u0435\\u043E \\u0441 YouTube\",\n                value: videoLink,\n                onChange: e => setVideoLink(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSave,\n                children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: closeModal,\n              children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 9\n        }, this), videoSaved && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"centeraddless\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"videoandtime\",\n            children: [/*#__PURE__*/_jsxDEV(YouTube, {\n              videoId: videoId,\n              opts: {\n                height: '390',\n                width: '640'\n              },\n              onStateChange: onStateChange,\n              ref: videoRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F: \", Math.floor(currentTime), \" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 602,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addcontainers\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"knopkacont\",\n              onClick: openTerminModal,\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u0440\\u043C\\u0438\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"knopkacont\",\n              onClick: openTestModal,\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0435\\u0441\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"knopkacont\",\n              onClick: openInfoModal,\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"knopkacont\",\n              onClick: openLinkModal,\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0441\\u0441\\u044B\\u043B\\u043A\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 608,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"allcontainersadd\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"infoblock addshow\",\n                children: [\"\\u0422\\u0435\\u0440\\u043C\\u0438\\u043D\\u044B\", terminArray.map((terminItem, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u0422\\u0435\\u0440\\u043C\\u0438\\u043D: \", index + 1, \", \\u0412\\u0440\\u0435\\u043C\\u044F: \", terminItem.time, \" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    dangerouslySetInnerHTML: {\n                      __html: terminItem.text.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 615,\n                    columnNumber: 5\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 3\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 5\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"infoblock addshow\",\n                children: [\"\\u0422\\u0435\\u0441\\u0442\", testArray.map((testItem, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441: \", index + 1, \", \\u0412\\u0440\\u0435\\u043C\\u044F: \", testItem.time, \" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"addtest\",\n                    dangerouslySetInnerHTML: {\n                      __html: testItem.question.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 629,\n                    columnNumber: 5\n                  }, this), \"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"addtest\",\n                    dangerouslySetInnerHTML: {\n                      __html: testItem.correctAnswer.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 631,\n                    columnNumber: 5\n                  }, this), \"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 1:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"addtest\",\n                    dangerouslySetInnerHTML: {\n                      __html: testItem.incorrect1.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 633,\n                    columnNumber: 5\n                  }, this), \"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 2:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"addtest\",\n                    dangerouslySetInnerHTML: {\n                      __html: testItem.incorrect2.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 635,\n                    columnNumber: 5\n                  }, this), \"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 3:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"addtest\",\n                    dangerouslySetInnerHTML: {\n                      __html: testItem.incorrect3.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 637,\n                    columnNumber: 5\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 627,\n                  columnNumber: 3\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"infoblock addshow\",\n                children: [\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u044B\\u0435 \\u0431\\u043B\\u043E\\u043A\\u0438\", infoArray.map((infoItem, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F: \", index + 1, \", \\u0412\\u0440\\u0435\\u043C\\u044F: \", infoItem.time, \" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442:\", /*#__PURE__*/_jsxDEV(\"div\", {\n                    dangerouslySetInnerHTML: {\n                      __html: infoItem.text.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 7\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 645,\n                  columnNumber: 3\n                }, this)), picArray.map((infoItem, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u0418\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F: \", index + 1, \", \\u0412\\u0440\\u0435\\u043C\\u044F: \", infoItem.time, \" \\u0441\\u0435\\u043A\\u0443\\u043D\\u0434, \\u0422\\u0435\\u043A\\u0441\\u0442: \", infoItem.photos.map((photo, photoIndex) => /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"imgadd\",\n                    src: URL.createObjectURL(photo),\n                    alt: `uploaded-${photoIndex}`\n                  }, photoIndex, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 656,\n                    columnNumber: 9\n                  }, this))]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 5\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 3\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"infoblock addshow\",\n                children: [\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0438\", linkArray.map((linkItem, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0438: \", index + 1, /*#__PURE__*/_jsxDEV(\"div\", {\n                    dangerouslySetInnerHTML: {\n                      __html: linkItem.text.replace(/\\n/g, '<br>')\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 671,\n                    columnNumber: 5\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 669,\n                  columnNumber: 3\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 667,\n                columnNumber: 3\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 3\n        }, this), errorNext && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: errorNext\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"knopkacont\",\n          onClick: handleNextStep,\n          children: \"\\u0414\\u0430\\u043B\\u0435\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 5\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fintesttoadd\",\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0442\\u0435\\u0441\\u0442\\u0430 \\u043F\\u043E\\u0441\\u043B\\u0435 \\u0443\\u0440\\u043E\\u043A\\u0430 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"fintestcont\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"finknopkacont\",\n          onClick: openFinTestModal,\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 691,\n          columnNumber: 3\n        }, this), finTestArray.map((testItem, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u0412\\u043E\\u043F\\u0440\\u043E\\u0441: \", index + 1, \",\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addtest\",\n            dangerouslySetInnerHTML: {\n              __html: testItem.finQuestion.replace(/\\n/g, '<br>')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 695,\n            columnNumber: 5\n          }, this), \"\\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442:\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addtest\",\n            dangerouslySetInnerHTML: {\n              __html: testItem.finCorrectAnswer.replace(/\\n/g, '<br>')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 5\n          }, this), \"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 1:\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addtest\",\n            dangerouslySetInnerHTML: {\n              __html: testItem.finIncorrect1.replace(/\\n/g, '<br>')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 699,\n            columnNumber: 5\n          }, this), \"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 2:\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addtest\",\n            dangerouslySetInnerHTML: {\n              __html: testItem.finIncorrect2.replace(/\\n/g, '<br>')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 701,\n            columnNumber: 5\n          }, this), \"\\u041D\\u0435\\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442 3:\", /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"addtest\",\n            dangerouslySetInnerHTML: {\n              __html: testItem.finIncorrect3.replace(/\\n/g, '<br>')\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 5\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 3\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"knopkacont\",\n          onClick: handleSendSaveClick,\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0443\\u0440\\u043E\\u043A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true), infoModalVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-info-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"centeraddless\",\n          children: [\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"inputaddless2\",\n            type: \"number\",\n            value: Math.floor(currentTime),\n            onChange: e => {\n              setCurrentTime(parseFloat(e.target.value));\n              if (videoRef.current) {\n                videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 15\n          }, this), \"\\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedOption,\n          onChange: e => setSelectedOption(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"text\",\n            children: \"\\u0422\\u0435\\u043A\\u0441\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pic\",\n            children: \"\\u041A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 13\n        }, this), selectedOption === 'text' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044E\",\n            value: infoText,\n            onChange: e => setInfoText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 740,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveInfo,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 745,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), selectedOption === 'pic' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 750,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            onChange: handleImageUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 751,\n            columnNumber: 11\n          }, this), currentImage && /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"imgadd\",\n            src: URL.createObjectURL(currentImage),\n            alt: `uploaded-0`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 753,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSavePic,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 759,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeInfoModal,\n          children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 713,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 712,\n      columnNumber: 9\n    }, this), testModalVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-info-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"inputaddless2\",\n            type: \"number\",\n            value: Math.floor(currentTime),\n            onChange: e => {\n              setCurrentTime(parseFloat(e.target.value));\n              if (videoRef.current) {\n                videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 15\n          }, this), \"\\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\",\n            value: question,\n            onChange: e => setQuestion(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 788,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442\",\n            value: correctAnswer,\n            onChange: e => setCorrectAnswer(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 793,\n            columnNumber: 7\n          }, this), wrongAnswers.map((answer, index) => /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: `Добавьте неправильный ответ ${index + 1}`,\n            value: answer,\n            onChange: e => {\n              const newWrongAnswers = [...wrongAnswers];\n              newWrongAnswers[index] = e.target.value;\n              setWrongAnswers(newWrongAnswers);\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 9\n          }, this)), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveTest,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeTestModal,\n          children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 769,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 9\n    }, this), finTestModalVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-info-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-info\",\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0432\\u043E\\u043F\\u0440\\u043E\\u0441\",\n            value: finQuestion,\n            onChange: e => setFinQuestion(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u0440\\u0430\\u0432\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043E\\u0442\\u0432\\u0435\\u0442\",\n            value: finCorrectAnswer,\n            onChange: e => setFinCorrectAnswer(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 826,\n            columnNumber: 7\n          }, this), finWrongAnswers.map((answer, index) => /*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: `Добавьте неправильный ответ ${index + 1}`,\n            value: answer,\n            onChange: e => {\n              const newWrongAnswers = [...finWrongAnswers];\n              newWrongAnswers[index] = e.target.value;\n              setFinWrongAnswers(newWrongAnswers);\n            }\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 832,\n            columnNumber: 9\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveFinTest,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 843,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeFinTestModal,\n          children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 845,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 819,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 818,\n      columnNumber: 9\n    }, this), terminsModalVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-info-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u0422\\u0435\\u043A\\u0443\\u0449\\u0435\\u0435 \\u0432\\u0440\\u0435\\u043C\\u044F:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"inputaddless2\",\n            type: \"number\",\n            value: Math.floor(currentTime),\n            onChange: e => {\n              setCurrentTime(parseFloat(e.target.value));\n              if (videoRef.current) {\n                videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 854,\n            columnNumber: 15\n          }, this), \"\\u0441\\u0435\\u043A\\u0443\\u043D\\u0434\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0442\\u0435\\u0440\\u043C\\u0438\\u043D\",\n            value: terminText,\n            onChange: e => setTerminText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 17\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 875,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveTermins,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 876,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeTerminModal,\n          children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 850,\n      columnNumber: 9\n    }, this), linkModalVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-info-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-info\",\n        children: [/*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0441\\u0441\\u044B\\u043B\\u043A\\u0443\",\n            value: linkText,\n            onChange: e => setLinkText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 17\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSaveLink,\n            children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeLinkModal,\n          children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 894,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 884,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 883,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(AddLesson, \"cQo/1bZLix7ZyJx8/vCNrm+7eJs=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AddLesson;\nexport default AddLesson;\nvar _c;\n$RefreshReg$(_c, \"AddLesson\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Navpanmini","useParams","useNavigate","Link","YouTube","axios","BASE_URL","jsxDEV","_jsxDEV","Fragment","_Fragment","AddLesson","_s","selectedCourse","setSelectedCourse","lessonType","setLessonType","course","titleWithSpaces","replace","videoLink","setVideoLink","videoSaved","setVideoSaved","videoRef","intervalId","setIntervalId","navigate","videoId","setVideoId","currentTime","setCurrentTime","duration","setDuration","lessonTitle","setLessonTitle","infoModalVisible","setInfoModalVisible","terminsModalVisible","setTerminsModalVisible","infoType","setInfoType","selectedOption","setSelectedOption","infoText","setInfoText","infoArray","setInfoArray","terminArray","setTerminArray","terminText","setTerminText","error","setError","testModalVisible","setTestModalVisible","finTestModalVisible","setFinTestModalVisible","linkModalVisible","setLinkModalVisible","testArray","setTestArray","testText","setTestText","question","setQuestion","correctAnswer","setCorrectAnswer","wrongAnswers","setWrongAnswers","infoImage","setInfoImage","linkArray","setLinkArray","linkText","setLinkText","step","setStep","errorVideo","setErrorVideo","errorNext","setErrorNext","finQuestion","setFinQuestion","finCorrectAnswer","setFinCorrectAnswer","finWrongAnswers","setFinWrongAnswers","finTestArray","setFinTestArray","errorFin","setErrorFin","photoArray","setPhotoArray","picArray","setPicArray","currentImage","setCurrentImage","file","setFile","openInfoModal","current","internalPlayer","pauseVideo","openModal","closeTerminModal","openTerminModal","closeLinkModal","openLinkModal","closeInfoModal","openTestModal","openFinTestModal","closeFinTestModal","closeTestModal","onStateChange","event","data","PlayerState","PLAYING","id","setInterval","getCurrentTime","then","time","forEach","item","index","clearInterval","handleFileChange","e","selectedFile","target","files","isValidFileType","alert","textFileExtensions","fileNameParts","name","split","fileExtension","length","toLowerCase","includes","handleSaveFile","closeModal","interval","extractVideoId","url","match","handleSave","extractedVideoId","console","handleImageUpload","imgFile","size","type","prevArray","fetchCurrentTime","getDuration","handleSaveInfo","newInfoItem","Math","floor","text","isTimeExistsInInfo","some","isTimeExistsInTest","newArray","handleSavePic","photos","isTimeExistsInTermins","handleNextStep","handleSaveTermins","newTerminItem","isTimeExistsInPic","handleSaveLink","newLinkItem","handleSendSaveClick","formData","FormData","append","JSON","stringify","response","post","headers","handleSaveTest","answer","newTestItem","incorrect1","incorrect2","incorrect3","handleSaveFinTest","finIncorrect1","finIncorrect2","finIncorrect3","children","className","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","checked","onClick","style","color","disabled","opts","height","width","ref","map","terminItem","dangerouslySetInnerHTML","__html","testItem","infoItem","photo","photoIndex","src","URL","createObjectURL","alt","linkItem","parseFloat","seekTo","newWrongAnswers","_c","$RefreshReg$"],"sources":["/Applications/MAMP/htdocs/tourclubkz/my-react-app/src/addLesson.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport Navpanmini from './navpanmini';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport YouTube from 'react-youtube';\nimport './addlesson.css';\nimport axios from 'axios';\nimport { BASE_URL } from './config';\nconst AddLesson = () => {\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [lessonType, setLessonType] = useState('text'); // Default to text lesson\n  const { course } = useParams();\n  const titleWithSpaces = course.replace(/-/g, ' ');\n  const [videoLink, setVideoLink] = useState('');\n  const [videoSaved, setVideoSaved] = useState(false);\n  const videoRef = useRef(null);\n  const [intervalId, setIntervalId] = useState(null);\n  const navigate = useNavigate(); // Используйте useNavigate\n  const [videoId, setVideoId] = useState('');\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [lessonTitle, setLessonTitle] = useState(\"\"); \n  const [infoModalVisible, setInfoModalVisible] = useState(false);\n  const [terminsModalVisible, setTerminsModalVisible] = useState(false);\n  const [infoType, setInfoType] = useState('text'); // Default to text\n  const [selectedOption, setSelectedOption] = useState('text');\n  const [infoText, setInfoText] = useState('');\n  const [infoArray, setInfoArray] = useState([]); // New state for storing information array\n  const [terminArray, setTerminArray] = useState([]); // New state for storing information array\n  const [terminText, setTerminText] = useState('');\n  const [error, setError] = useState(null);\n\n  const [testModalVisible, setTestModalVisible] = useState(false);\n\n  const [finTestModalVisible, setFinTestModalVisible] = useState(false);\n  const [linkModalVisible, setLinkModalVisible] = useState(false);\n  const [testArray, setTestArray] = useState([]); // New state for storing information array\n  const [testText, setTestText] = useState('');\n  const [question, setQuestion] = useState('');\n  const [correctAnswer, setCorrectAnswer] = useState('');\n  const [wrongAnswers, setWrongAnswers] = useState(['', '', '']);\n  const [infoImage, setInfoImage] = useState(null);\n  const [linkArray, setLinkArray] = useState([]); // New state for storing information array\n  const [linkText, setLinkText] = useState('');\n  const [step, setStep] = useState(1);\n  const [errorVideo, setErrorVideo] = useState('');\n  const [errorNext, setErrorNext] = useState('');\n  const [finQuestion, setFinQuestion] = useState('');\n  const [finCorrectAnswer, setFinCorrectAnswer] = useState('');\n  const [finWrongAnswers, setFinWrongAnswers] = useState(['', '', '']);\n  const [finTestArray, setFinTestArray] = useState([]); \n  const [errorFin, setErrorFin] = useState('');\n  const [photoArray, setPhotoArray] = useState([]); // New state for photos\n  const [picArray, setPicArray] = useState([]);\n  const [currentImage, setCurrentImage] = useState(null);\n  const [file, setFile] = useState(null);\n  const openInfoModal = () => {\n    setInfoModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const openModal = () => {\n    setSelectedCourse(course);\n  };\n  const closeTerminModal = () => {\n    setTerminsModalVisible(false);\n    setError(null)\n  };\n\n  const openTerminModal = () => {\n    setTerminsModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n\n  const closeLinkModal = () => {\n    setLinkModalVisible(false);\n    setError(null)\n  };\n\n  const openLinkModal = () => {\n    setLinkModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n  const closeInfoModal = () => {\n    setInfoModalVisible(false);\n    setError(null)\n  };\n\n\n  const openTestModal = () => {\n    setTestModalVisible(true);\n    if (videoRef.current) {\n      videoRef.current.internalPlayer.pauseVideo();\n    }\n  };\n\n  const openFinTestModal = () => {\n    setFinTestModalVisible(true);\n    };\n    const closeFinTestModal = () => {\n      setFinTestModalVisible(false);\n      \n    };\n  \n\n  const closeTestModal = () => {\n    setTestModalVisible(false);\n    setError(null)\n  };\n\n\n  const onStateChange = (event) => {\n    if (videoRef.current) {\n      if (event.data === YouTube.PlayerState.PLAYING) {\n        const id = setInterval(() => {\n          if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n            videoRef.current.internalPlayer.getCurrentTime().then((time) => {\n         \n              picArray.forEach((item, index) => {\n              \n          \n              });\n              \n              setCurrentTime(time);\n            });\n          }\n        }, 1000);\n        setIntervalId(id);\n      } else {\n        clearInterval(intervalId);\n      }\n    }\n  };\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    if (isValidFileType(selectedFile)) {\n      setFile(selectedFile);\n    } else {\n      alert('Invalid file type. Please select a text-based file.');\n    }\n  };\n  const isValidFileType = (file) => {\n    const textFileExtensions = ['txt', 'doc', 'docx', 'pdf', 'rtf', 'odt']; // Add more if needed\n    const fileNameParts = file.name.split('.');\n    const fileExtension = fileNameParts[fileNameParts.length - 1].toLowerCase();\n    return textFileExtensions.includes(fileExtension);\n  };\n  const handleSaveFile = () => {\n    if (file) {\n      // You can perform any actions with the 'file' here\n      // For example, you might want to save it in the component state\n  \n      closeModal()\n    } else {\n      alert('Please select a valid text-based file before saving.');\n    }\n\n\n  };\n\nuseEffect(() => {\n  const interval = setInterval(() => {\n    if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n      // handleTimeUpdate(currentTime);\n    }\n  }, 1000); // Проверка каждую секунду\n\n  return () => {\n    clearInterval(interval);\n  };\n}, [videoRef.current]); // Добавлен videoRef.current в зависимости useEffect\n  // Function to close the modal\n  const closeModal = () => {\n    setSelectedCourse(null);\n  };\n  const extractVideoId = (url) => {\n    // Предполагаем, что url имеет формат https://www.youtube.com/watch?v=ALdF0V9Z_os\n    const match = url.match(/(?:\\?v=|\\/embed\\/|\\.be\\/|\\/v\\/|\\/\\d{1,2}\\/|\\/(?=p\\/))([^\"&?\\/\\s]{11})/);\n    return match ? match[1] : null;\n  };\n  const handleSave = () => {\n    const extractedVideoId = extractVideoId(videoLink);\n    \n    if (extractedVideoId) {\n   \n      setVideoSaved(true);\n      setVideoId(extractedVideoId)\n      setErrorVideo(\"\")\n    } else {\n      console.error('Неверный формат ссылки на видео');\n      setErrorVideo('Неверный формат ссылки на видео');\n    }\n    \n    closeModal();\n  };\n  const handleImageUpload = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      let imgFile = event.target.files[0];\n\n      if (imgFile.size > 5000000) {\n        alert('Размер файла не должен превышать 5 МБ');\n      } else if (\n        imgFile.type === 'image/jpeg' ||\n        imgFile.type === 'image/jpg' ||\n        imgFile.type === 'image/png'\n      ) {\n        setCurrentImage(imgFile);\n        setPhotoArray((prevArray) => [...prevArray, imgFile]); // Сразу добавляем в массив\n      } else {\n        alert('Пожалуйста, загрузите файл в формате jpg или jpeg');\n      }\n    }\n  };\n\n  useEffect(() => {\n    const fetchCurrentTime = async () => {\n      if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getCurrentTime) {\n        const time = await videoRef.current.internalPlayer.getCurrentTime();\n        setCurrentTime(time);\n      }\n  \n      if (videoRef.current && videoRef.current.internalPlayer && videoRef.current.internalPlayer.getDuration) {\n        const duration = await videoRef.current.internalPlayer.getDuration();\n        setDuration(duration);\n      }\n    };\n  \n    fetchCurrentTime();\n    const intervalId = setInterval(fetchCurrentTime, 1000); // Update every second\n  \n    return () => clearInterval(intervalId); // Clean up on unmount\n  }, [videoRef.current]);\n  const handleSaveInfo = () => {\n    const newInfoItem = {\n      time: Math.floor(currentTime),\n      text: infoText,\n   \n    };\n    const isTimeExistsInInfo = terminArray.some(item => item.time === newInfoItem.time);\n    \n    const isTimeExistsInTest = testArray.some(item => item.time === newInfoItem.time);\n\n    if (!isTimeExistsInInfo && !isTimeExistsInTest) {\n      setInfoArray(prevArray => {\n        const newArray = [...prevArray, newInfoItem];\n        return newArray;\n      });\n      setInfoText('');\n\n      closeInfoModal();\n    } else {\n      setError('Блок с таким временем уже существует');\n    }\n  };\n  const handleSavePic = () => {\n    if (currentImage) {\n      const newInfoItem = {\n        time: Math.floor(currentTime),\n        photos: [currentImage], // Добавляем текущее изображение в photoArray\n      };\n      const isTimeExistsInTermins = terminArray.some(item => item.time === newInfoItem.time);\n      \n      const isTimeExistsInTest = testArray.some(item => item.time === newInfoItem.time);\n      const isTimeExistsInInfo = infoArray.some(item => item.time === newInfoItem.time);\n      if (!isTimeExistsInInfo && !isTimeExistsInTermins && !isTimeExistsInTest) {\n        setPicArray((prevArray) => [...prevArray, newInfoItem]);\n  \n        // Очистка photoArray и сброс текущей картинки\n        setPhotoArray([]);\n        setCurrentImage(null);\n    \n        closeInfoModal();\n        } else {\n        setError('Блок с таким временем уже существует');\n    }\n    \n    }\n  };\n  \n\n  const handleNextStep = () => {\n    if(lessonType === 'video') {\n      if (videoId === 0) {\n        setErrorNext('Добавьте видео');\n      } else if (testArray.length === 0) {\n        setErrorNext('Добавьте хотя бы один тест');\n      } else if (lessonTitle.length === 0) {\n        setErrorNext('Введите название урока');\n      } else {\n        // Все условия выполнены, можно переходить на следующий шаг\n        setErrorNext('');\n        setStep(step + 1);\n      }\n    }\n    if(lessonType === 'text') {\n      if (file === null) {\n        setErrorNext('Добавьте файл');\n      } else if (lessonTitle.length === 0) {\n        setErrorNext('Введите название урока');\n      } else {\n        // Все условия выполнены, можно переходить на следующий шаг\n        setErrorNext('');\n        setStep(step + 1);\n      }\n    }\n  };\n  \n\n  const handleSaveTermins = () => {\n    const newTerminItem = {\n      time: Math.floor(currentTime),\n      text: terminText,\n    };\n  \n    // Проверка, существует ли уже элемент с таким же временем в infoArray\n    const isTimeExistsInInfo = infoArray.some(item => item.time === newTerminItem.time);\n    const isTimeExistsInTest = testArray.some(item => item.time === newTerminItem.time);\n    const isTimeExistsInPic = picArray.some(item => item.time === newTerminItem.time);\n    if (!isTimeExistsInInfo && !isTimeExistsInTest && !isTimeExistsInPic) {\n      // Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\n      setTerminArray(prevArray => {\n        const newArray = [...prevArray, newTerminItem];\n  \n        return newArray;\n      });\n  \n      // Очистка значения текстареи после сохранения\n      setTerminText('');\n      closeTerminModal();\n    } else {\n      setError('Термин с таким временем уже существует в информационном блоке');\n  }\n\n    // Закрытие модального окна\n\n  };\n  const handleSaveLink = () => {\n    const newLinkItem = {\n      text: linkText,\n    };\n  \n    // Проверка, существует ли уже элемент с таким же временем в infoArray\n \n      // Используйте функцию обратного вызова для вывода информации о массиве после обновления состояния\n      setLinkArray(prevArray => {\n        const newArray = [...prevArray, newLinkItem];\n  \n        return newArray;\n      })\n  \n      // Очистка значения текстареи после сохранения\n      setLinkText('');\n      closeLinkModal();\n  \n\n    // Закрытие модального окна\n\n  };\n\n  const handleSendSaveClick = async () => {\n    if(lessonType === 'video') {\n      if(finTestArray <= 3) {\n        setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока')\n      }else {\n  \n      \n  \n      const formData = new FormData();\n      formData.append('video', videoId);\n      formData.append('terminarray', JSON.stringify(terminArray));\n      formData.append('infoarray', JSON.stringify(infoArray));\n      formData.append('testarray', JSON.stringify(testArray));\n      formData.append('link', JSON.stringify(linkArray));\n      formData.append('finarray', JSON.stringify(finTestArray));\n      formData.append('name', lessonTitle);\n      formData.append('course', titleWithSpaces);\n      formData.append('lessontype', lessonType);\n  \n      \n      picArray.forEach((item, index) => {\n        formData.append(`image_${index}`, item.photos[0]);\n        formData.append(`time_${index}`, item.time); // Append time values\n        \n      });\n      \n      \n      try {\n        const response = await axios.post(\n          `${BASE_URL}tourschoolphp/addLessonphp.php`,\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n    \n        navigate(`/courses/${course}`);\n  \n      } catch (error) {\n        console.error('Error sending message:', error);\n      }\n    \n      // setShowUserModal(false);\n    }\n    }else {\n      if(finTestArray <= 3) {\n        setErrorFin('Добавьте минимум 3 вопроса для теста в конце урока')\n      }else {\n  \n      const formData = new FormData();\n      formData.append('finarray', JSON.stringify(finTestArray));\n      formData.append('name', lessonTitle);\n      formData.append('course', titleWithSpaces);\n      formData.append('lessontype', lessonType);\n      formData.append('file', file);\n\n      try {\n        const response = await axios.post(\n          `${BASE_URL}tourschoolphp/addLessonTextphp.php`,\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n    \n        navigate(`/courses/${course}`);\n  \n      } catch (error) {\n        console.error('Error sending message:', error);\n      }\n    \n      // setShowUserModal(false);\n    }\n    }\n   \n  };\n  \n  \n\n  const handleSaveTest = () => {\n    if (!question || !correctAnswer || wrongAnswers.some(answer => !answer)) {\n      setError('Пожалуйста, заполните все текстовые поля');\n      return;\n    }\n    const newTestItem = {\n      time: Math.floor(currentTime),\n      question: question,\n      correctAnswer: correctAnswer,\n      incorrect1: wrongAnswers[0],\n      incorrect2: wrongAnswers[1],\n      incorrect3: wrongAnswers[2],\n    };\n    const isTimeExistsInInfo = infoArray.some(item => item.time === newTestItem.time);\n    const isTimeExistsInPic = picArray.some(item => item.time === newTestItem.time);\n    const isTimeExistsInTermins = terminArray.some(item => item.time === newTestItem.time);\n    if (!isTimeExistsInInfo && !isTimeExistsInTermins && !isTimeExistsInPic) {\n      setTestArray(prevArray => {\n        const newArray = [...prevArray, newTestItem];\n        return newArray;\n      });\n  \n  \n      // Очистка значения текстареи после сохранения\n      setQuestion('');\n      setCorrectAnswer('');\n      setWrongAnswers(['', '', '']);\n      closeTestModal();\n      setError(null)\n    } else {\n      setError('Блок с таким временем уже существует');\n  }\n\n   \n  };\n  const handleSaveFinTest = () => {\n    if (!finQuestion || !finCorrectAnswer || finWrongAnswers.some(answer => !answer)) {\n      setError('Пожалуйста, заполните все текстовые поля');\n      return;\n    }\n    const newTestItem = {\n      finQuestion: finQuestion,\n      finCorrectAnswer: finCorrectAnswer,\n      finIncorrect1: finWrongAnswers[0],\n      finIncorrect2: finWrongAnswers[1],\n      finIncorrect3: finWrongAnswers[2],\n    };\n      setFinTestArray(prevArray => {\n        const newArray = [...prevArray, newTestItem];\n        return newArray;\n      });\n  \n  \n      // Очистка значения текстареи после сохранения\n      setFinQuestion('');\n      setFinCorrectAnswer('');\n      setFinWrongAnswers(['', '', '']);\n\n      closeFinTestModal();  \n}\n\n  return (\n    <>\n    <div className='container7'>\n        <div className='addlessoncoursename'>{titleWithSpaces}</div>\n    <Navpanmini />\n\n    {step === 1 && (\n      <>\n    <input\n    className='inputaddless2'\n      type=\"text\"\n      placeholder=\"Название урока\"\n      value={lessonTitle}\n      onChange={(e) => setLessonTitle(e.target.value)}\n    />\n\n      <div className=\"lesson-type-selector\">\n        <label>\n          <input\n          className='checkadd'\n            type=\"radio\"\n            value=\"text\"\n            checked={lessonType === 'text'}\n            onChange={() => setLessonType('text')}\n          />\n          Текстовый урок\n        </label>\n\n        <label>\n          <input\n            type=\"radio\"\n            value=\"video\"\n            checked={lessonType === 'video'}\n            onChange={() => setLessonType('video')}\n          />\n          Видео урок\n        </label>\n      </div>\n     \n{lessonType === 'text' && (\n  <>\n  <div className='addlessonlink' onClick={openModal}>\n  Добавить документ\n</div>\n{file && (\n  <div className='file'>{file.name}</div>\n)}\n</>\n)}\n\n      {!videoSaved && lessonType === 'video' && (\n        <div className='addlessonlink' onClick={openModal}>\n          Добавить видеоряд\n        </div>\n      )}\n {errorVideo && <div style={{ color: 'red' }}>{errorVideo}</div>}\n      {selectedCourse && (\n        <div className=\"modal-overlay4\">\n          <div className=\"modal4\">\n          {lessonType === 'text' && (\n        <>\n      <input className='filediv' type=\"file\" onChange={handleFileChange} />\n      <button onClick={handleSaveFile} disabled={!file}>\n        Сохранить\n      </button>\n        </>\n            )}\n            {lessonType === 'video' && (\n              <>\n                <input\n                  className='inputaddless'\n                  type=\"text\"\n                  placeholder=\"Ссылка на видео с YouTube\"\n                  value={videoLink}\n                  onChange={(e) => setVideoLink(e.target.value)}\n                />\n                <button onClick={handleSave}>Сохранить</button>\n              </>\n            )}\n            <button onClick={closeModal}>Закрыть</button>\n            \n          </div>\n        </div>\n      )}\n\n      {videoSaved && (\n  <div className='centeraddless'> \n  <div className='videoandtime'>\n    <YouTube\n      videoId={videoId}\n      opts={{ height: '390', width: '640' }}\n      onStateChange={onStateChange}\n      ref={videoRef}\n    />\n    <div>Текущее время: {Math.floor(currentTime)} секунд</div>\n    </div>\n    <div className='addcontainers'>\n    <div className='knopkacont' onClick={openTerminModal}>Добавить термин</div>\n    <div className='knopkacont' onClick={openTestModal}>Добавить тест</div>\n    <div className='knopkacont' onClick={openInfoModal}>Добавить информацию</div>\n    <div className='knopkacont' onClick={openLinkModal}>Добавить ссылки</div>\n    <div className='allcontainersadd'>\n\n    <div className='infoblock addshow'>Термины\n{terminArray.map((terminItem, index) => (\n  <div key={index}>\n    Термин: {index + 1}, Время: {terminItem.time} секунд, Текст: \n    <div dangerouslySetInnerHTML={{ __html: terminItem.text.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n\n\n</div>\n\n\n    \n\n<div className='infoblock addshow'>Тест\n{testArray.map((testItem, index) => (\n  <div key={index}>\n    Вопрос: {index + 1}, Время: {testItem.time} секунд, Текст: \n    <div className='addtest' dangerouslySetInnerHTML={{ __html: testItem.question.replace(/\\n/g, '<br>') }} />\n    Правильный ответ: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.correctAnswer.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 1: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.incorrect1.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 2: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.incorrect2.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 3: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.incorrect3.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n\n  </div>\n\n  <div className='infoblock addshow'>Информационные блоки\n    {infoArray.map((infoItem, index) => (\n  <div key={index}>\n    Информация: {index + 1}, Время: {infoItem.time} секунд, Текст: \n      <div dangerouslySetInnerHTML={{ __html: infoItem.text.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n  {picArray.map((infoItem, index) => (\n    <div key={index}>\n      Информация: {index + 1}, Время: {infoItem.time} секунд, Текст: {/* Добавьте ваш текст, если необходимо */}\n      \n      {/* Отобразите фотографии внутри информационного блока */}\n      {infoItem.photos.map((photo, photoIndex) => (\n        <img\n          key={photoIndex}\n          className='imgadd'\n          src={URL.createObjectURL(photo)}\n          alt={`uploaded-${photoIndex}`}\n        />\n      ))}\n    </div>\n  ))}\n</div>\n\n  <div className='infoblock addshow'>Ссылки\n{linkArray.map((linkItem, index) => (\n  <div key={index}>\n    Ссылки: {index + 1}\n    <div dangerouslySetInnerHTML={{ __html: linkItem.text.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n</div>\n</div>\n</div>\n\n  </div>\n  \n)}\n {errorNext && <div style={{ color: 'red' }}>{errorNext}</div>}\n     <button className='knopkacont' onClick={handleNextStep}>Далее</button>\n</>\n)}\n\n</div>\n{step === 2 && (\n  <>\n  <div className='fintesttoadd'>Добавление теста после урока </div>\n  <div className='fintestcont'>\n  <div className='finknopkacont' onClick={openFinTestModal}>Добавить вопрос</div>\n  {finTestArray.map((testItem, index) => (\n  <div key={index}>\n    Вопрос: {index + 1}, \n    <div className='addtest' dangerouslySetInnerHTML={{ __html: testItem.finQuestion.replace(/\\n/g, '<br>') }} />\n    Правильный ответ: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finCorrectAnswer.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 1: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finIncorrect1.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 2: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finIncorrect2.replace(/\\n/g, '<br>') }} />\n    Неправильный ответ 3: \n    <div className='addtest'  dangerouslySetInnerHTML={{ __html: testItem.finIncorrect3.replace(/\\n/g, '<br>') }} />\n  </div>\n))}\n  <button className='knopkacont' onClick={handleSendSaveClick}>Добавить урок</button>\n  </div>\n  </>\n)}\n\n{infoModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n            <div className='centeraddless'>\n              Текущее время: \n              <input \n                className='inputaddless2'\n                type=\"number\"\n                value={Math.floor(currentTime)}\n                onChange={(e) => {\n                  setCurrentTime(parseFloat(e.target.value));\n                  if (videoRef.current) {\n                    videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n                  }\n                }}\n              />\n              секунд\n            </div>\n            <select \n              value={selectedOption}\n              onChange={(e) => setSelectedOption(e.target.value)}\n            >\n              <option value=\"text\">Текст</option>\n              <option value=\"pic\">Картинка</option>\n            </select>\n\n            {selectedOption === 'text' && (\n              <>\n                {error && <p>{error}</p>}\n                <textarea\n                  placeholder=\"Добавьте информацию\"\n                  value={infoText}\n                  onChange={(e) => setInfoText(e.target.value)}\n                />\n                <button onClick={handleSaveInfo}>Сохранить</button>\n              </>\n            )}\n    {selectedOption === 'pic' && (\n        <div>\n       {error && <p>{error}</p>}\n          <input type=\"file\" onChange={handleImageUpload} />\n          {currentImage && (\n            <img\n              className='imgadd'\n              src={URL.createObjectURL(currentImage)}\n              alt={`uploaded-0`}\n            />\n          )}\n          <button onClick={handleSavePic}>Сохранить</button>\n        </div>\n  )}\n\n            <button onClick={closeInfoModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{testModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n            <div>\n              Текущее время: \n              <input \n                className='inputaddless2'\n                type=\"number\"\n                value={Math.floor(currentTime)}\n                onChange={(e) => {\n                  setCurrentTime(parseFloat(e.target.value));\n                  if (videoRef.current) {\n                    videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n                  }\n                }}\n              />\n              секунд\n            </div>\n           \n           \n              <>\n              <textarea\n        placeholder=\"Добавьте вопрос\"\n        value={question}\n        onChange={(e) => setQuestion(e.target.value)}\n      />\n      <textarea\n        placeholder=\"Добавьте правильный ответ\"\n        value={correctAnswer}\n        onChange={(e) => setCorrectAnswer(e.target.value)}\n      />\n      {wrongAnswers.map((answer, index) => (\n        <textarea\n          key={index}\n          placeholder={`Добавьте неправильный ответ ${index + 1}`}\n          value={answer}\n          onChange={(e) => {\n            const newWrongAnswers = [...wrongAnswers];\n            newWrongAnswers[index] = e.target.value;\n            setWrongAnswers(newWrongAnswers);\n          }}\n        />\n      ))}\n      {error && <p>{error}</p>}\n                <button onClick={handleSaveTest}>Сохранить</button>\n              </>\n            <button onClick={closeTestModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{finTestModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n              <>\n              <textarea\n        placeholder=\"Добавьте вопрос\"\n        value={finQuestion}\n        onChange={(e) => setFinQuestion(e.target.value)}\n      />\n      <textarea\n        placeholder=\"Добавьте правильный ответ\"\n        value={finCorrectAnswer}\n        onChange={(e) => setFinCorrectAnswer(e.target.value)}\n      />\n      {finWrongAnswers.map((answer, index) => (\n        <textarea\n          key={index}\n          placeholder={`Добавьте неправильный ответ ${index + 1}`}\n          value={answer}\n          onChange={(e) => {\n            const newWrongAnswers = [...finWrongAnswers];\n            newWrongAnswers[index] = e.target.value;\n            setFinWrongAnswers(newWrongAnswers);\n          }}\n        />\n      ))}\n                <button onClick={handleSaveFinTest}>Сохранить</button>\n              </>\n            <button onClick={closeFinTestModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{terminsModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">\n            <div>\n              Текущее время: \n              <input \n                className='inputaddless2'\n                type=\"number\"\n                value={Math.floor(currentTime)}\n                onChange={(e) => {\n                  setCurrentTime(parseFloat(e.target.value));\n                  if (videoRef.current) {\n                    videoRef.current.internalPlayer.seekTo(parseFloat(e.target.value));\n                  }\n                }}\n              />\n              секунд\n            </div>\n           \n           \n              <>\n                <textarea\n                  placeholder=\"Добавьте термин\"\n                  value={terminText}\n                  onChange={(e) => setTerminText(e.target.value)}\n                />\n                    {error && <p>{error}</p>}\n                <button onClick={handleSaveTermins}>Сохранить</button>\n              </>\n            <button onClick={closeTerminModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n{linkModalVisible && (\n        <div className=\"modal-info-overlay\">\n          <div className=\"modal-info\">           \n              <>\n                <textarea\n                  placeholder=\"Добавьте ссылку\"\n                  value={linkText}\n                  onChange={(e) => setLinkText(e.target.value)}\n                />\n                    {error && <p>{error}</p>}\n                <button onClick={handleSaveLink}>Сохранить</button>\n              </>\n            <button onClick={closeLinkModal}>Закрыть</button>\n    </div>\n  </div>\n)}\n\n       </>\n  );\n}\n\nexport default AddLesson;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}